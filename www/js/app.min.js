angular.module("Pingce",["ngRoute","ngSanitize","LocalStorageModule","flow"]).config(["$routeProvider","$httpProvider","$locationProvider","localStorageServiceProvider","config",function(e,t,i,n,r){angular.forEach(r.interceptor,function(t){var i=t.replace(/_([0-9]|[a-z])/g,function(e){return e.split("_")[1].toUpperCase()});i+="Controller",e.when("/"+t,{templateUrl:"templates/"+t+".html",reloadOnSearch:!0,controller:i,resolve:{user:["$q","$location","localStorageService",function(e,i,n){var r=["me","create_comment"],o=e.defer();return r.includes(t)&&!n.get("token")?(o.reject(),i.path("/signin").replace(),void 0):(o.resolve(),o.promise)}]}})}),e.otherwise("/index"),t.defaults.useXDomain=!0,t.defaults.withCredentials=!0,delete t.defaults.headers.common["X-Requested-With"],n.setStorageCookie(.02),t.interceptors.push("tokenInterceptor"),ImgCache.options.debug=!1,ImgCache.options.chromeQuota=52428800}]).run(["appServices",function(e){ImgCache.init(),e.init()}]),angular.module("Pingce").factory("utilServices",["$q",function(e){var t=function(e){var t;t=e.split(",")[0].indexOf("base64")>=0?atob(e.split(",")[1]):unescape(e.split(",")[1]);for(var i=e.split(",")[0].split(":")[1].split(";")[0],n=new Uint8Array(t.length),r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return new Blob([n],{type:i})},i=function(i){var n=e.defer(),r=document.createElement("img");try{var o=new FileReader;o.onload=function(e){r.src=e.target.result;var i=document.createElement("canvas"),o=i.getContext("2d");o.drawImage(r,0,0);var a=500,s=500,u=r.width,c=r.height;u>c?u>a&&(c*=a/u,u=a):c>s&&(u*=s/c,c=s),i.width=u,i.height=c;var o=i.getContext("2d");o.drawImage(r,0,0,u,c);var l=i.toDataURL("image/jpeg"),_=t(l);n.resolve(_)},o.readAsDataURL(i)}catch(a){n.resolve(a)}return n.promise};return{resizeFile:i}}]),angular.module("Pingce").factory("userServices",["$rootScope","$http","apiServices","localStorageService","config",function(e,t,i,n,r){return{rsa_key:i._get(angular.extend({},r.common_params,{url:"key/private_key.pem"})),signin:i._get(angular.extend({},r.common_params,{url:r.url+"/app/UserCenter/Login"})),signup:i._get(angular.extend({},r.common_params,{url:r.url+"/app/UserCenter/RegistTel"})),forget:i._get(angular.extend({},r.common_params,{url:r.url+"/app/UserCenter/ResetPassword"})),reset:i._get(angular.extend({},r.common_params,{url:r.url+"/app/UserCenter/SetPassword"})),get_smscode:i._get(angular.extend({},r.common_params,{url:r.url+"/app/UserCenter/getRegisterCode"})),get_smscode_1:i._get(angular.extend({},r.common_params,{url:r.url+"/app/UserCenter/GetSetCode",token:n.get("token")})),get_smscode_2:i._get(angular.extend({},r.common_params,{url:r.url+"/app/UserCenter/getForgetCode"})),query_basicinfo:i._get(angular.extend({},r.common_params,{url:r.url+"/app/UserCenter/baseInfo",token:n.get("token"),cache:!1})),query_banner:i._get(angular.extend({},r.common_params,{url:r.url+"/app/HomeManage/bannerList"})),query_pingce_category_list:i._get(angular.extend({},r.common_params,{url:r.url+"/app/JiajuTestManage/jiajuTestClassify"})),query_pingce_article_list:i._get(angular.extend({},r.common_params,{url:r.url+"/app/JiajuTestManage/jiajuTestList"})),query_pingce_article:i._get(angular.extend({},r.common_params,{url:r.url+"/app/JiajuTestManage/jiajuTestDetail"})),query_hangye_category2:i._get(angular.extend({},r.common_params,{url:r.url+"/app/HangyeInsiderManage/hangyeInsiderClassify02"})),query_hangye_category3:i._get(angular.extend({},r.common_params,{url:r.url+"/app/HangyeInsiderManage/hangyeInsiderClassify03"})),query_hangye_detail:i._get(angular.extend({},r.common_params,{url:r.url+"/app/HangyeInsiderManage/hangyeInsiderDetail"})),query_supplier_by_id:i._get(angular.extend({},r.common_params,{url:r.url+"/app/HangyeInsiderManage/supplierDetail"})),query_jiaju_list:i._get(angular.extend({},r.common_params,{url:r.url+"/app/FindJiajuManage/findJiajuBrandList"})),query_jiaju_category_list:i._get(angular.extend({},r.common_params,{url:r.url+"/app/FindJiajuManage/findJiajuClassify"})),query_jiaju_brand_by_id:i._get(angular.extend({},r.common_params,{url:r.url+"/app/FindJiajuManage/findJiajuBrandDetail"})),query_jiaju_serial_by_id:i._get(angular.extend({},r.common_params,{url:r.url+"/app/FindJiajuManage/findJiajuBrandSeriesDetail"})),query_jiaju_taofang_by_id:i._get(angular.extend({},r.common_params,{url:r.url+"/app/FindJiajuManage/findJiajuBrandSeriesRoomsDetail"})),query_jiaju_kongjian_by_id:i._get(angular.extend({},r.common_params,{url:r.url+"/app/FindJiajuManage/findJiajuBrandSeriesRoomsBlankSingleList"})),query_jiaju_product_by_id:i._get(angular.extend({},r.common_params,{url:r.url+"/app/FindJiajuManage/fSeriesRoomsBlankSingleDetail"})),query_distributors:i._get(angular.extend({},r.common_params,{url:r.url+"/app/DealerManage/dealerList"})),query_distributor_by_id:i._get(angular.extend({},r.common_params,{url:r.url+"/app/DealerManage/dealerDetail"})),query_brand_list:i._get(angular.extend({},r.common_params,{url:r.url+"/app/InquiryManage/fBrandList",cache:!1})),query_serial_list:i._get(angular.extend({},r.common_params,{url:r.url+"/app/InquiryManage/fSeriesList",cache:!1})),query_taofang_list:i._get(angular.extend({},r.common_params,{url:r.url+"/app/InquiryManage/fRoomsList",cache:!1})),query_single_list:i._get(angular.extend({},r.common_params,{url:r.url+"/app/InquiryManage/fSinglesList",cache:!1})),ask_price:i._get(angular.extend({},r.common_params,{url:r.url+"/app/InquiryManage/inquiry"})),apply_distributor:i._get(angular.extend({},r.common_params,{url:r.url+"/app/DealerManage/dealerApply"})),query_cities:i._get(angular.extend({},r.common_params,{url:"city/city.json",cache:!0})),query_hot:i._get(angular.extend({},r.common_params,{url:r.url+"/app/HomeManage/jiajuTestHotList"})),query_compare_image_by_id:i._get(angular.extend({},r.common_params,{url:r.url+"/app/ComparisonManage/fBlankSingleImagesComp"})),query_compare_serial_by_id:i._get(angular.extend({},r.common_params,{url:r.url+"/app/ComparisonManage/findBrandSeriesDetail"})),query_compare_comment_by_id:i._get(angular.extend({},r.common_params,{url:r.url+"/app/ComparisonManage/fBlankSingleCommmentDetail"})),query_serial_comment_by_id:i._get(angular.extend({},r.common_params,{url:r.url+"/app/FindJiajuManage/fBrandSeriesCommentList"})),query_single_comment_by_id:i._get(angular.extend({},r.common_params,{url:r.url+"/app/FindJiajuManage/fBlankSingleCommmentList"})),query_image_group_one_by_id:i._get(angular.extend({},r.common_params,{url:r.url+"/app/HangyeInsiderManage/hangyeInsiderImgDetail"})),query_image_group_two_by_id:i._get(angular.extend({},r.common_params,{url:r.url+"/app/FindJiajuManage/fJiajuImgDetail"})),search_article:i._get(angular.extend({},r.common_params,{url:r.url+"/app/FindJiajuManage/fJiajuImgDetail"})),create_comment:i._get(angular.extend({},r.common_params,{token:n.get("token"),url:r.url+"/app/CommentManage/comment"})),query_my_comment:i._get(angular.extend({},r.common_params,{token:n.get("token"),url:r.url+"/app/CommentManage/myCommentList"}))}}]),angular.module("Pingce").factory("tokenInterceptor",["$location","$q","localStorageService","errorServices","config",function(e,t,i,n,r){return{request:function(e){return e},requestError:function(){},response:function(n){var o=t.defer();return n.config.url.indexOf(".html")>0?n:n.data.code==r.request.TOKEN_INVALID?(console.log("TOKEN_INVALID"),i.remove("token"),e.path("/signin").replace(),o.promise):n},responseError:function(e){var i=t.defer();return n.requestError(e.data,e.status,e.headers,e.config),i.promise}}}]),angular.module("Pingce").factory("toastServices",function(){return{show:function(){$(".toast").show()},hide:function(){$(".toast").hide()},start:function(){NProgress.start()},done:function(){NProgress.done()}}}),angular.module("Pingce").factory("facebookServices",["$rootScope","$route","$http","$window","$location","$q","userServices","toastServices","errorServices","localStorageService","config",function(e,t,i,n,r,o,a,s,u,c,l){return n.fbAsyncInit=function(){var e=n.FB||void 0;e&&e.init({appId:"217442991983314",xfbml:!0,version:"v2.6"})},{share:function(e){var i=n.FB||void 0;i&&i.ui({method:"feed",link:e||l.share.link,redirect_uri:e||l.share.link,caption:l.share.title},function(){t.reload()})},login:function(){var e=o.defer(),t=this;return t._facebook_connected().then(function(e){return e}).then(function(){t._query_facebook_user_info().then(function(t){e.resolve(t)})}),e.promise},logout:function(){var e=n.FB||void 0;e&&e.logout(function(){})},_facebook_connected:function(){var e=o.defer(),t=n.FB||void 0;return t?(s.show(),t.login(function(t){s.hide(),"connected"==t.status?e.resolve(t):e.reject("_facebook_connected occured")},{scope:"public_profile,email"}),e.promise):void 0},_query_facebook_user_info:function(){var e=o.defer(),t=n.FB||void 0;return t?(t.api("/me",{fields:"id,email,name,picture,gender,last_name"},function(t){!t||t.error?e.reject("_query_facebook_user_info error occured"):e.resolve(t)}),e.promise):void 0}}}]),angular.module("Pingce").factory("errorServices",["$rootScope","$timeout","toastServices",function(e,t,i){return{show:function(t){e.error_msg=t,$(".error-msg").show()},hide:function(){e.error_msg="",$(".error-msg").hide()},autoHide:function(i){e.error_msg=i,$(".error-msg").show(),t(function(){e.error_msg="",$(".error-msg").hide()},3e3)},requestError:function(e,t,n,r){switch(i.hide(),t){case 0:this.autoHide("连接超时");break;case 500:case 501:case 502:case 503:case 504:case 505:case 506:case 507:case 509:case 510:this.autoHide("服务器连接出错")}console.log("onRequestError output status, data, headers, config"),console.log(t),console.log(e),console.log(n),console.log(r),console.log("onRequestError end")}}}]),angular.module("Pingce").factory("appServices",["$rootScope","$window","$location","errorServices","toastServices","config",function(e,t,i,n,r,o){var a=function(){},s=function(e,t,i){r.hide(),n.hide(),c(e,t,i)},u=function(){},c=function(){};return{init:function(){e.$on("$routeChangeStart",a),e.$on("$routeChangeSuccess",s),e.$on("$routeChangeError",u),e.go=function(e){i.path(e)},e.back=function(){t.history.back()},e.repeat_star=function(e){return e?new Array(e):[]},e.staticImageUrl=o.imageUrl}}}]),angular.module("Pingce").factory("apiServices",["$http","localStorageService",function(e,t){return{_get:function(i){return function(n){return void 0!==i.token&&(i.token=t.get("token")),e({url:i.url,method:"GET",cache:void 0===i.cache?!0:i.cache,params:angular.extend({},i,n)}).then(function(e){return e.data})}},_post:function(i){return function(n){return void 0!==i.token&&(i.token=t.get("token")),e({url:i.url,method:"POST",cache:void 0===i.cache?!0:i.cache,headers:{"Content-Type":"application/x-www-form-urlencoded"},transformRequest:function(e){var t=[];for(var i in e)t.push(encodeURIComponent(i)+"="+encodeURIComponent(e[i]));return t.join("&")},data:angular.extend({},i,n)}).then(function(e){return e.data})}}}}]),angular.module("Pingce").controller("vs4Controller",["$scope","errorServices","toastServices","localStorageService","config",function(e){e.hover=function(t){e.hover_cell=t}}]),angular.module("Pingce").controller("commentColController",["$scope","userServices","errorServices","toastServices","localStorageService","config",function(e,t,i,n,r,o){e.input={},n.show(),t.query_brand_list().then(function(t){n.hide(),t.code==o.request.SUCCESS&&t.status==o.response.SUCCESS?e.brand_list=t.Result.FindJiajuBrandList:i.autoHide(t.message)}),e.query_serial_list=function(){n.show(),t.query_serial_list({find_jiaju_brand_id:e.input.brand.find_jiaju_brand_id}).then(function(t){n.hide(),t.code==o.request.SUCCESS&&t.status==o.response.SUCCESS?e.serial_list=t.Result.FindJiajuBrandSeriesList:i.autoHide(t.message)})},e.query_taofang_list=function(){n.show(),t.query_taofang_list({find_jiaju_brand_series_id:e.input.serial.find_jiaju_brand_series_id}).then(function(t){n.hide(),t.code==o.request.SUCCESS&&t.status==o.response.SUCCESS?e.taofang_list=t.Result.FSeriesRoomsList:i.autoHide(t.message)})},e.query_single_list=function(){n.show(),t.query_single_list({find_jiaju_brand_series_rooms_id:e.input.taofang.find_jiaju_brand_series_rooms_id}).then(function(t){n.hide(),t.code==o.request.SUCCESS&&t.status==o.response.SUCCESS?e.single_list=t.Result.FBlankSinglesList:i.autoHide(t.message)})},e.query_compare_comment_by_id=function(r){n.show(),t.query_compare_comment_by_id({find_jiaju_brand_series_rooms_blank_single_id:r}).then(function(t){n.hide(),t.code==o.request.SUCCESS&&t.status==o.response.SUCCESS?(e.comments=t.Result.CommentList,e.product=t.Result.FBlankSingleDetail):i.autoHide(t.message)})},e.$watch("input.brand",function(t){t&&e.query_serial_list()},!0),e.$watch("input.serial",function(t){t&&e.query_taofang_list()},!0),e.$watch("input.taofang",function(t){t&&e.query_single_list()},!0),e.$watch("input.single",function(t){t&&e.query_compare_comment_by_id(t.find_jiaju_brand_series_rooms_blank_single_id)},!0)}]),angular.module("Pingce").controller("vs3Controller",["$scope","userServices","errorServices","toastServices","localStorageService","config",function(e){e.hover=function(t){e.hover_cell=t}}]),angular.module("Pingce").controller("colController",["$scope","userServices","errorServices","toastServices","localStorageService","config",function(e,t,i,n,r,o){e.input={},n.show(),t.query_brand_list().then(function(t){n.hide(),t.code==o.request.SUCCESS&&t.status==o.response.SUCCESS?e.brand_list=t.Result.FindJiajuBrandList:i.autoHide(t.message)}),e.query_serial_list=function(){n.show(),t.query_serial_list({find_jiaju_brand_id:e.input.brand.find_jiaju_brand_id}).then(function(t){n.hide(),t.code==o.request.SUCCESS&&t.status==o.response.SUCCESS?e.serial_list=t.Result.FindJiajuBrandSeriesList:i.autoHide(t.message)})},e.query_taofang_list=function(){n.show(),t.query_taofang_list({find_jiaju_brand_series_id:e.input.serial.find_jiaju_brand_series_id}).then(function(t){n.hide(),t.code==o.request.SUCCESS&&t.status==o.response.SUCCESS?e.taofang_list=t.Result.FSeriesRoomsList:i.autoHide(t.message)})},e.query_single_list=function(){n.show(),t.query_single_list({find_jiaju_brand_series_rooms_id:e.input.taofang.find_jiaju_brand_series_rooms_id}).then(function(t){n.hide(),t.code==o.request.SUCCESS&&t.status==o.response.SUCCESS?e.single_list=t.Result.FBlankSinglesList:i.autoHide(t.message)})},e.query_product=function(r){n.show(),t.query_jiaju_product_by_id({find_jiaju_brand_series_rooms_blank_single_id:r}).then(function(t){n.hide(),t.code==o.request.SUCCESS&&t.status==o.response.SUCCESS?e.product=t.Result.FSeriesRoomsBlankSingleDetail:i.autoHide(t.message)})},e.$watch("input.brand",function(t){t&&e.query_serial_list()},!0),e.$watch("input.serial",function(t){t&&e.query_taofang_list()},!0),e.$watch("input.taofang",function(t){t&&e.query_single_list()},!0),e.$watch("input.single",function(t){t&&e.query_product(t.find_jiaju_brand_series_rooms_blank_single_id)},!0)}]),angular.module("Pingce").controller("vs2Controller",["$scope","errorServices","toastServices","localStorageService","config",function(e){e.hover=function(t){e.hover_cell=t}}]),angular.module("Pingce").controller("serialColController",["$scope","userServices","errorServices","toastServices","localStorageService","config",function(e,t,i,n,r,o){e.input={},n.show(),t.query_brand_list().then(function(t){n.hide(),t.code==o.request.SUCCESS&&t.status==o.response.SUCCESS?e.brand_list=t.Result.FindJiajuBrandList:i.autoHide(t.message)}),e.query_serial_list=function(){n.show(),t.query_serial_list({find_jiaju_brand_id:e.input.brand.find_jiaju_brand_id}).then(function(t){n.hide(),t.code==o.request.SUCCESS&&t.status==o.response.SUCCESS?e.serial_list=t.Result.FindJiajuBrandSeriesList:i.autoHide(t.message)})},e.query_taofang_list=function(){n.show(),t.query_taofang_list({find_jiaju_brand_series_id:e.input.serial.find_jiaju_brand_series_id}).then(function(t){n.hide(),t.code==o.request.SUCCESS&&t.status==o.response.SUCCESS?e.taofang_list=t.Result.FSeriesRoomsList:i.autoHide(t.message)})},e.query_compare_serial_by_id=function(r){n.show(),t.query_compare_serial_by_id({find_jiaju_brand_series_id:r}).then(function(t){n.hide(),t.code==o.request.SUCCESS&&t.status==o.response.SUCCESS?e.serial=t.Result.FindJiajuBrandSeries:i.autoHide(t.message)})},e.$watch("input.brand",function(t){t&&e.query_serial_list()},!0),e.$watch("input.serial",function(t){t&&e.query_compare_serial_by_id(t.find_jiaju_brand_series_id)},!0)}]),angular.module("Pingce").controller("vs1Controller",["$scope","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("Pingce").controller("imageColController",["$scope","userServices","errorServices","toastServices","localStorageService","config",function(e,t,i,n,r,o){e.input={},n.show(),t.query_brand_list().then(function(t){n.hide(),t.code==o.request.SUCCESS&&t.status==o.response.SUCCESS?e.brand_list=t.Result.FindJiajuBrandList:i.autoHide(t.message)}),e.query_serial_list=function(){n.show(),t.query_serial_list({find_jiaju_brand_id:e.input.brand.find_jiaju_brand_id}).then(function(t){n.hide(),t.code==o.request.SUCCESS&&t.status==o.response.SUCCESS?e.serial_list=t.Result.FindJiajuBrandSeriesList:i.autoHide(t.message)})},e.query_taofang_list=function(){n.show(),t.query_taofang_list({find_jiaju_brand_series_id:e.input.serial.find_jiaju_brand_series_id}).then(function(t){n.hide(),t.code==o.request.SUCCESS&&t.status==o.response.SUCCESS?e.taofang_list=t.Result.FSeriesRoomsList:i.autoHide(t.message)})},e.query_single_list=function(){n.show(),t.query_single_list({find_jiaju_brand_series_rooms_id:e.input.taofang.find_jiaju_brand_series_rooms_id}).then(function(t){n.hide(),t.code==o.request.SUCCESS&&t.status==o.response.SUCCESS?e.single_list=t.Result.FBlankSinglesList:i.autoHide(t.message)})},e.query_compare_image_by_id=function(r){n.show(),t.query_compare_image_by_id({find_jiaju_brand_series_rooms_blank_single_id:r}).then(function(t){n.hide(),t.code==o.request.SUCCESS&&t.status==o.response.SUCCESS?e.images=t.Result.FSeriesRoomsBlankSingleComp:i.autoHide(t.message)})},e.$watch("input.brand",function(t){t&&e.query_serial_list()},!0),e.$watch("input.serial",function(t){t&&e.query_taofang_list()},!0),e.$watch("input.taofang",function(t){t&&e.query_single_list()},!0),e.$watch("input.single",function(t){t&&e.query_compare_image_by_id(t.find_jiaju_brand_series_rooms_blank_single_id)},!0)}]),angular.module("Pingce").controller("toolController",["$scope","$location","$anchorScroll","errorServices","toastServices","localStorageService","config",function(e,t,i){e.top=function(){t.hash("top"),i()}}]),angular.module("Pingce").controller("toBeDistributorController",["$scope","$timeout","$location","userServices","errorServices","toastServices","localStorageService","config",function(e,t,i,n,r,o,a,s){e.input={},e.provinces=["北京市","上海市","天津市","重庆市","河北省","山西省","内蒙古自治区","辽宁省","吉林省","黑龙江省","江苏省","浙江省","安徽省","福建省","江西省","山东省","河南省","湖北省","湖南省","广东省","广西壮族自治区","海南省","四川省","贵州省","云南省","西藏自治区","陕西省","甘肃省","青海省","宁夏回族自治区","新疆维吾尔自治区"],e.input.province=e.provinces[0],e.query_cities=function(){n.query_cities().then(function(t){e.cities=t[e.input.province],e.input.city=e.cities[0]})},e.$watch("input.province",function(t){t&&e.query_cities()}),e.ajaxForm=function(){o.show(),n.apply_distributor({name:e.input.name,telephone:e.input.telephone,province:e.input.province,city:e.input.city,brand:e.input.brand,mall:e.input.mall}).then(function(e){o.hide(),e.code==s.request.SUCCESS&&e.status==s.response.SUCCESS?(r.autoHide(e.message),t(function(){i.path("index").replace()},2e3)):r.autoHide(e.message)})}}]),angular.module("Pingce").controller("taofangController",["$scope","$rootScope","$routeParams","userServices","errorServices","toastServices","localStorageService","config",function(e,t,i,n,r,o,a,s){i.id||t.back(),o.show(),n.query_jiaju_taofang_by_id({find_jiaju_brand_series_rooms_id:i.id}).then(function(t){o.hide(),t.code==s.request.SUCCESS&&t.status==s.response.SUCCESS?e.taofang=t.Result.FindJiajuBrandSeriesRoomsDetail:r.autoHide(t.message)})}]),angular.module("Pingce").controller("supplierController",["$scope","$rootScope","$routeParams","userServices","errorServices","toastServices","localStorageService","config",function(e,t,i,n,r,o,a,s){i.type&&i.id||t.back(),o.show(),n.query_supplier_by_id({supplier_id:i.id,supplier_type:i.type}).then(function(t){o.hide(),t.code==s.request.SUCCESS&&t.status==s.response.SUCCESS?e.supplier=t.Result.HangyeInsiderClassify03Supplier:r.autoHide(t.message)})}]),angular.module("Pingce").controller("signupController",["$scope","$location","$timeout","userServices","errorServices","toastServices","localStorageService","config",function(e,t,i,n,r,o,a,s){e.input={},e.countdown={message:"获取验证码"},e.countdown.callback=function(){o.show(),n.get_smscode({telephone:e.input.telephone}).then(function(t){o.hide(),t.code==s.request.SUCCESS&&t.status==s.response.SUCCESS?r.autoHide(t.message):(e.countdown.reset=!0,r.autoHide(t.message))})},e.ajaxForm=function(){o.show(),n.signup({tel_code:e.input.smscode,telephone:e.input.telephone,password:e.input.password}).then(function(e){o.hide(),e.code==s.request.SUCCESS&&e.status==s.response.SUCCESS?(a.set("token",e.token),r.autoHide(e.message),i(function(){t.path("index").replace()},2e3)):r.autoHide(e.message)})}}]),angular.module("Pingce").controller("signinController",["$scope","$timeout","$location","userServices","errorServices","toastServices","localStorageService","config",function(e,t,i,n,r,o,a,s){e.input={},e.ajaxForm=function(){o.show(),n.signin({telephone:e.input.telephone,password:e.input.password}).then(function(e){o.hide(),e.code==s.request.SUCCESS&&e.status==s.response.SUCCESS?(a.set("token",e.token),r.autoHide(e.message),t(function(){i.path("index").replace()},1e3)):r.autoHide(e.message)})}}]),angular.module("Pingce").controller("serialController",["$scope","$rootScope","$routeParams","userServices","errorServices","toastServices","localStorageService","config",function(e,t,i,n,r,o,a,s){i.id||t.back(),o.show(),n.query_jiaju_serial_by_id({find_jiaju_brand_series_id:i.id}).then(function(t){o.hide(),t.code==s.request.SUCCESS&&t.status==s.response.SUCCESS?e.serial=t.Result.FindJiajuBrandSeriesDetail:r.autoHide(t.message)})}]),angular.module("Pingce").controller("searchCategoryController",["$scope","$rootScope","$routeParams","userServices","errorServices","toastServices","localStorageService","config",function(e,t,i,n,r,o,a,s){i.kw||t.back(),o.show(),n.query_hangye_category2({classify_type:0,kw:i.kw}).then(function(t){o.hide(),t.code==s.request.SUCCESS&&t.status==s.response.SUCCESS?e.category_list=t.Result.HangyeInsiderClassify02List:r.autoHide(t.message)})}]),angular.module("Pingce").controller("searchArticleController",["$scope","$sce","$location","$routeParams","userServices","errorServices","toastServices","localStorageService","config",function(e,t,i,n,r,o,a,s,u){e.category_list=[],a.show(),r.query_pingce_category_list().then(function(t){a.hide(),t.code==u.request.SUCCESS&&t.status==u.response.SUCCESS?e.category_list=t.Result.JiajuTestClassifyList:o.autoHide(t.message)}),e.search_by_category=function(t){t.check=!t.check,e.reload()},e.query_category_type=function(t){var i=e.category_list.filter(function(e){return e.classify_type==t&&e.check});return i.length},e.reset_type=function(t){e.category_list.map(function(e){e.classify_type==t&&(e.check=!1)}),e.reload()},e.size=[7,7,7],e.more_type=function(t){return 1e3==e.size[t-1]?(e.size[t-1]=7,void 0):(e.size[t-1]=1e3,void 0)},e.trust_url=function(e){return t.trustAsResourceUrl(e)},e.go=function(e){i.path("article").search("id",e.jiaju_test_id)},e.articles=[],e.page={pn:1,page_size:10,message:"点击加载更多",kw:n.kw},e.loadMore=function(){e.no_more||(a.show(),e.page.message="正在加载...",r.query_pingce_article_list(e.page).then(function(t){a.hide(),e.page.message="点击加载更多",t.code==u.request.SUCCESS&&t.status==u.response.SUCCESS?(e.articles=e.articles.concat(t.Result.JiajuTestList.list),e.no_more=e.articles.length==t.Result.JiajuTestList.totalRow?!0:!1):o.autoHide("服务器错误"),e.no_more&&(e.page.message="已经加载完"),e.page.pn++}))},e.loadMore(),e.reload=function(){var t=e.category_list.filter(function(e){return e.check});e.articles=[],e.page={pn:1,page_size:10,message:"点击加载更多",fengge_classify_ids:t.filter(function(e){return 1==e.classify_type}).map(function(e){return e.jiaju_test_classify_id}).join("#"),caizhi_classify_ids:t.filter(function(e){return 2==e.classify_type}).map(function(e){return e.jiaju_test_classify_id}).join("#"),kongjian_classify_ids:t.filter(function(e){return 3==e.classify_type}).map(function(e){return e.jiaju_test_classify_id}).join("#"),kw:n.kw},e.no_more=!1,e.loadMore()}}]),angular.module("Pingce").controller("queryPriceController",["$scope","$timeout","$location","userServices","errorServices","toastServices","localStorageService","config",function(e,t,i,n,r,o,a,s){e.input={},o.show(),n.query_brand_list().then(function(t){o.hide(),t.code==s.request.SUCCESS&&t.status==s.response.SUCCESS?(e.brand_list=t.Result.FindJiajuBrandList,e.input.brand=e.brand_list[0]):r.autoHide(t.message)}),e.query_serial_list=function(){n.query_serial_list({find_jiaju_brand_id:e.input.brand.find_jiaju_brand_id}).then(function(t){t.code==s.request.SUCCESS&&t.status==s.response.SUCCESS?(e.serial_list=t.Result.FindJiajuBrandSeriesList,e.input.serial=e.serial_list[0]):r.autoHide(t.message)})},e.query_taofang_list=function(){n.query_taofang_list({find_jiaju_brand_series_id:e.input.serial.find_jiaju_brand_series_id}).then(function(t){t.code==s.request.SUCCESS&&t.status==s.response.SUCCESS?(e.taofang_list=t.Result.FSeriesRoomsList,e.input.taofang=e.taofang_list[0]):r.autoHide(t.message)})},e.query_single_list=function(){n.query_single_list({find_jiaju_brand_series_rooms_id:e.input.taofang.find_jiaju_brand_series_rooms_id}).then(function(t){t.code==s.request.SUCCESS&&t.status==s.response.SUCCESS?(e.single_list=t.Result.FBlankSinglesList,e.input.single=e.single_list[0]):r.autoHide(t.message)})},e.$watch("input.brand",function(t){t&&e.query_serial_list()},!0),e.$watch("input.serial",function(t){t&&e.query_taofang_list()},!0),e.$watch("input.taofang",function(t){t&&e.query_single_list()},!0),e.provinces=["北京市","上海市","天津市","重庆市","河北省","山西省","内蒙古自治区","辽宁省","吉林省","黑龙江省","江苏省","浙江省","安徽省","福建省","江西省","山东省","河南省","湖北省","湖南省","广东省","广西壮族自治区","海南省","四川省","贵州省","云南省","西藏自治区","陕西省","甘肃省","青海省","宁夏回族自治区","新疆维吾尔自治区"],e.input.province=e.provinces[0],e.query_distributors=function(){n.query_distributors({pn:1,page_size:1e3,province:e.input.province,city:e.input.city,message:"点击加载更多"}).then(function(t){t.code==s.request.SUCCESS&&t.status==s.response.SUCCESS?(e.distributors=t.Result.DealerList.list,e.input.distributor=e.distributors[0]):r.autoHide("服务器错误")})},e.query_cities=function(){n.query_cities().then(function(t){e.cities=t[e.input.province],e.input.city=e.cities[0]})},e.$watch("input.province",function(t){t&&e.query_cities()}),e.$watch("input.city",function(t){t&&e.query_distributors()}),e.ajaxForm=function(){o.show(),n.ask_price({name:e.input.name,telephone:e.input.telephone,find_jiaju_brand_id:e.input.brand.find_jiaju_brand_id,find_jiaju_brand_series_id:e.input.serial.find_jiaju_brand_series_id,find_jiaju_brand_series_rooms_id:e.input.taofang.find_jiaju_brand_series_rooms_id,find_jiaju_brand_series_rooms_blank_single_id:e.input.single.find_jiaju_brand_series_rooms_blank_single_id,province:e.input.province,city:e.input.city,dealer_id:e.input.distributor.dealer_id,building_area:e.input.building_area,building_house:e.input.building_house,price:e.input.price}).then(function(e){o.hide(),e.code==s.request.SUCCESS&&e.status==s.response.SUCCESS?(r.autoHide(e.message),t(function(){i.path("index").replace()},2e3)):r.autoHide(e.message)})}}]),angular.module("Pingce").controller("productController",["$scope","$rootScope","$routeParams","userServices","errorServices","toastServices","localStorageService","config",function(e,t,i,n,r,o,a,s){i.id||t.back(),o.show(),n.query_jiaju_product_by_id({find_jiaju_brand_series_rooms_blank_single_id:i.id}).then(function(t){o.hide(),t.code==s.request.SUCCESS&&t.status==s.response.SUCCESS?e.product=t.Result.FSeriesRoomsBlankSingleDetail:r.autoHide(t.message)})}]),angular.module("Pingce").controller("pingceController",["$scope","$sce","$location","$routeParams","userServices","errorServices","toastServices","localStorageService","config",function(e,t,i,n,r,o,a,s,u){e.category_list=[],a.show(),r.query_pingce_category_list().then(function(t){a.hide(),t.code==u.request.SUCCESS&&t.status==u.response.SUCCESS?e.category_list=t.Result.JiajuTestClassifyList:o.autoHide(t.message)}),e.search_by_category=function(t){t.check=!t.check,e.reload()},e.query_category_type=function(t){var i=e.category_list.filter(function(e){return e.classify_type==t&&e.check});return i.length},e.reset_type=function(t){e.category_list.map(function(e){e.classify_type==t&&(e.check=!1)}),e.reload()},e.size=[7,7,7],e.more_type=function(t){return 1e3==e.size[t-1]?(e.size[t-1]=7,void 0):(e.size[t-1]=1e3,void 0)},e.trust_url=function(e){return t.trustAsResourceUrl(e)},e.go=function(e){i.path("article").search("id",e.jiaju_test_id)},e.articles=[],e.page={pn:1,page_size:10,message:"点击加载更多",kw:n.kw},e.loadMore=function(){e.no_more||(a.show(),e.page.message="正在加载...",r.query_pingce_article_list(e.page).then(function(t){a.hide(),e.page.message="点击加载更多",t.code==u.request.SUCCESS&&t.status==u.response.SUCCESS?(e.articles=e.articles.concat(t.Result.JiajuTestList.list),e.no_more=e.articles.length==t.Result.JiajuTestList.totalRow?!0:!1):o.autoHide("服务器错误"),e.no_more&&(e.page.message="已经加载完"),e.page.pn++}))},e.loadMore(),e.reload=function(){var t=e.category_list.filter(function(e){return e.check});e.articles=[],e.page={pn:1,page_size:10,message:"点击加载更多",fengge_classify_ids:t.filter(function(e){return 1==e.classify_type}).map(function(e){return e.jiaju_test_classify_id}).join("#"),caizhi_classify_ids:t.filter(function(e){return 2==e.classify_type}).map(function(e){return e.jiaju_test_classify_id}).join("#"),kongjian_classify_ids:t.filter(function(e){return 3==e.classify_type}).map(function(e){return e.jiaju_test_classify_id}).join("#"),kw:n.kw},e.no_more=!1,e.loadMore()}}]),angular.module("Pingce").controller("neimuController",["$scope","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("Pingce").controller("meController",["$scope","userServices","errorServices","toastServices","localStorageService","config",function(e,t,i,n,r,o){t.query_basicinfo().then(function(t){e.user=t.Result.UserInfo}),e.comments=[],e.page={pn:1,page_size:10,message:"点击加载更多"},e.loadMore=function(){e.no_more||(n.show(),e.page.message="正在加载...",t.query_my_comment(e.page).then(function(t){n.hide(),e.page.message="点击加载更多",t.code==o.request.SUCCESS&&t.status==o.response.SUCCESS?(e.comments=e.comments.concat(t.Result.MyCommentList.list),e.no_more=e.comments.length==t.Result.MyCommentList.totalRow?!0:!1):i.autoHide("服务器错误"),e.no_more&&(e.page.message="没有了"),e.page.pn++}))},e.loadMore(),e.buy_aim=["","新房装修","旧房升级","重装新房","小孩出生","其他"],e.parse_aim=function(t){return e.buy_aim[t]},e.progress=function(e){return Math.floor(100*e)},e.$on("uploaded",function(){e.user.images_01="",t.query_basicinfo().then(function(t){e.user=t.Result.UserInfo})})}]),angular.module("Pingce").controller("uploadAvatarController",["$scope","errorServices","toastServices","localStorageService","config",function(e,t,i,n,r){var o,a,s=!1;e.$on("flow::filesSubmitted",function(e,t){0!=t.files.length&&(s||(t.files[0].name.replace(/.png|.jpg|.jpeg|.gif|.PNG|.JPG|.JPEG|.GIF/g,function(e){return a=e,e}),o=Math.round(1e8*Math.random()),o+=(new Date).getTime()+a,t.opts.target=r.url+"/app/UserCenter/UpdateAvatar",t.opts.testChunks=!1,t.opts.fileParameterName="images_01",t.opts.query={invoke:"h5",token:n.get("token")},t.upload()))}),e.$on("flow::fileAdded",function(e,n,r){return{png:1,gif:1,jpg:1,jpeg:1}[r.getExtension()]?parseFloat(r.size)/1e3>3e3?(s=!0,i.hide(),t.autoHide("Suggested size: 520*296, below 3M"),e.preventDefault(),void 0):(s=!1,void 0):(i.hide(),t.autoHide("Picture is required"),e.preventDefault(),void 0)
}),e.$on("flow::fileSuccess",function(){e.$emit("uploaded")})}]),angular.module("Pingce").controller("kongjianController",["$scope","$rootScope","$routeParams","userServices","errorServices","toastServices","localStorageService","config",function(e,t,i,n,r,o,a,s){i.id||t.back(),o.show(),n.query_jiaju_kongjian_by_id({find_jiaju_brand_series_rooms_blank_id:i.id}).then(function(t){o.hide(),t.code==s.request.SUCCESS&&t.status==s.response.SUCCESS?e.kongjian=t.Result.FindJiajuBrandSeriesRoomsBlankSingleList:r.autoHide(t.message)})}]),angular.module("Pingce").controller("jiajuController",["$scope","userServices","errorServices","toastServices","localStorageService","config",function(e,t,i,n,r,o){e.category_list=[],n.show(),t.query_jiaju_category_list().then(function(t){n.hide(),t.code==o.request.SUCCESS&&t.status==o.response.SUCCESS?e.category_list=t.Result.FindJiajuClassifyList:i.autoHide(t.message)}),e.search_by_category=function(e){e.check=!e.check},e.query_category_type=function(t){var i=e.category_list.filter(function(e){return e.classify_type==t&&e.check});return i.length},e.reset_type=function(t){e.category_list.map(function(e){e.classify_type==t&&(e.check=!1)})},e.size=[7,7,7],e.more_type=function(t){return 1e3==e.size[t-1]?(e.size[t-1]=7,void 0):(e.size[t-1]=1e3,void 0)},e.jiaju_list=[],e.page={pn:1,page_size:1,message:"点击加载更多"},e.loadMore=function(){e.no_more||(n.show(),e.page.message="正在加载...",t.query_jiaju_list(e.page).then(function(t){n.hide(),e.page.message="点击加载更多",t.code==o.request.SUCCESS&&t.status==o.response.SUCCESS?(e.jiaju_list=e.jiaju_list.concat(t.Result.FindJiajuBrandList.list),e.no_more=e.jiaju_list.length==t.Result.FindJiajuBrandList.totalRow?!0:!1):i.autoHide("服务器错误"),e.no_more&&(e.page.message="没有了"),e.page.pn++}))},e.loadMore()}]),angular.module("Pingce").controller("indexController",["$scope","userServices","errorServices","toastServices","localStorageService","config",function(e,t,i,n,r,o){n.show(),t.query_banner({location:10,banner_type:1}).then(function(t){n.hide(),t.code==o.request.SUCCESS&&t.status==o.response.SUCCESS?e.banners=t.Result.IndexBannerList:i.autoHide(t.message)}),n.show(),t.query_hot().then(function(t){n.hide(),t.code==o.request.SUCCESS&&t.status==o.response.SUCCESS?(e.hot_articles=t.Result.JiajuTestHotList,e.focus_articles=t.Result.JiajuTestZhongdianList):i.autoHide(t.message)})}]),angular.module("Pingce").controller("imageGroupController",["$scope","$rootScope","$routeParams","userServices","errorServices","toastServices","localStorageService","config",function(e,t,i,n,r,o,a,s){i.id&&i.type||t.back(),e.query_image_group_one_by_id=function(){o.show(),n.query_image_group_one_by_id({hangye_insider_images_id:i.id}).then(function(t){o.hide(),t.code==s.request.SUCCESS&&t.status==s.response.SUCCESS?e.image_group=t:r.autoHide(t.message)})},e.query_image_group_two_by_id=function(){o.show(),n.query_image_group_two_by_id({find_jiaju_brand_series_rooms_blank_single_detail_images_id:i.id}).then(function(t){o.hide(),t.code==s.request.SUCCESS&&t.status==s.response.SUCCESS?e.image_group=t:r.autoHide(t.message)})},e.type=i.type,1==e.type?e.query_image_group_one_by_id():e.query_image_group_two_by_id()}]),angular.module("Pingce").controller("hfController",["$scope","$rootScope","userServices","$location","$routeParams","errorServices","toastServices","localStorageService","config",function(e,t,i,n,r,o,a,s,u){var c=[{"/index":1},{"/pingce":2},{"/article":3},{"/neimu":4},{"/category2":5},{"/category3":6},{"/category_info":7},{"/image_group":8},{"/jiaju":9},{"/brand":10},{"/serial":11},{"/taofang":12},{"/kongjian":13},{"/product":14},{"/vs_2":15},{"/vs_3":16},{"/vs_4":17},{"/vs_1":18},{"/comment":19},{"/create_comment":20},{"/query_price":21},{"/to_be_distributor":22},{"/distributors":23},{"/distributor":24},{"/supplier":25},{"/contact":26},{"/feedback":27},{"/search_category":28},{"/search_article":29},{"/image_group?type=2":30},{"/signin":31},{"/signup":32},{"/forget":33},{"/me":34}],l=c[n.path()];8==l&&r.type&&(l=30),e.staticImageUrl=t.staticImageUrl,console.log(e.staticImageUrl),i.query_banner({location:l,banner_type:2}).then(function(t){a.hide(),t.code==u.request.SUCCESS&&t.status==u.response.SUCCESS?e.ads=t.Result.IndexBannerList:o.autoHide(t.message)}),e.input={},e.input.category="category",n.path().indexOf("search_article")>0&&(e.input.category="single"),e.input.kw=r.kw,e.ajaxForm=function(){return"category"==e.input.category?(n.path("search_category").search("kw",e.input.kw),void 0):(n.path("search_article").search("kw",e.input.kw),void 0)}}]),angular.module("Pingce").controller("forgetController",["$scope","$location","$timeout","userServices","errorServices","toastServices","localStorageService","config",function(e,t,i,n,r,o,a,s){e.input={},e.countdown={message:"获取验证码"},e.countdown.callback=function(){o.show(),n.get_smscode_2({telephone:e.input.telephone}).then(function(t){o.hide(),t.code==s.request.SUCCESS&&t.status==s.response.SUCCESS?r.autoHide(t.message):(e.countdown.reset=!0,r.autoHide(t.message))})},e.ajaxForm=function(){o.show(),n.forget({tel_code:e.input.smscode,telephone:e.input.telephone,password:e.input.password}).then(function(e){o.hide(),e.code==s.request.SUCCESS&&e.status==s.response.SUCCESS?(r.autoHide(e.message),i(function(){t.path("signin").replace()},1e3)):r.autoHide(e.message)})}}]),angular.module("Pingce").controller("feedbackController",["$scope","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("Pingce").controller("distributorsController",["$scope","userServices","errorServices","toastServices","localStorageService","config",function(e,t,i,n,r,o){e.input={},e.provinces=["北京市","上海市","天津市","重庆市","河北省","山西省","内蒙古自治区","辽宁省","吉林省","黑龙江省","江苏省","浙江省","安徽省","福建省","江西省","山东省","河南省","湖北省","湖南省","广东省","广西壮族自治区","海南省","四川省","贵州省","云南省","西藏自治区","陕西省","甘肃省","青海省","宁夏回族自治区","新疆维吾尔自治区"],e.input.province="全部",e.change_province=function(i){e.input.province=i,e.input.city="全部",t.query_cities().then(function(t){e.cities=t[i]}),e.query_distributors()},e.change_city=function(t){e.input.city=t,e.query_distributors()},e.distributors=[],e.page={pn:1,page_size:10,province:"",city:"",message:"点击加载更多"},e.loadMore=function(){e.no_more||(n.show(),e.page.message="正在加载...",t.query_distributors(e.page).then(function(t){n.hide(),e.page.message="点击加载更多",t.code==o.request.SUCCESS&&t.status==o.response.SUCCESS?(e.distributors=e.distributors.concat(t.Result.DealerList.list),e.no_more=e.distributors.length==t.Result.DealerList.totalRow?!0:!1):i.autoHide("服务器错误"),e.no_more&&(e.page.message="没有了"),e.page.pn++}))},e.loadMore(),e.query_distributors=function(){e.page={pn:1,page_size:10,province:"全部"==e.input.province?"":e.input.province,city:"全部"==e.input.city?"":e.input.city,message:"点击加载更多"},e.no_more=!1,e.distributors=[],e.loadMore()}}]),angular.module("Pingce").controller("distributorController",["$scope","$rootScope","$routeParams","$sce","userServices","errorServices","toastServices","localStorageService","config",function(e,t,i,n,r,o,a,s,u){i.id||t.back(),a.show(),r.query_distributor_by_id({dealer_id:i.id}).then(function(t){a.hide(),t.code==u.request.SUCCESS&&t.status==u.response.SUCCESS?e.distributor=t.Result.Dealer:o.autoHide(t.message)}),e.trust_html=function(e){return n.trustAsHtml(e)}}]),angular.module("Pingce").controller("createCommentController",["$scope","$timeout","$location","userServices","errorServices","toastServices","localStorageService","config",function(e,t,i,n,r,o,a,s){e.input={},o.show(),n.query_brand_list().then(function(t){o.hide(),t.code==s.request.SUCCESS&&t.status==s.response.SUCCESS?(e.brand_list=t.Result.FindJiajuBrandList,e.input.brand=e.brand_list[0]):r.autoHide(t.message)}),e.query_serial_list=function(){n.query_serial_list({find_jiaju_brand_id:e.input.brand.find_jiaju_brand_id}).then(function(t){t.code==s.request.SUCCESS&&t.status==s.response.SUCCESS?(e.serial_list=t.Result.FindJiajuBrandSeriesList,e.input.serial=e.serial_list[0]):r.autoHide(t.message)})},e.query_taofang_list=function(){n.query_taofang_list({find_jiaju_brand_series_id:e.input.serial.find_jiaju_brand_series_id}).then(function(t){t.code==s.request.SUCCESS&&t.status==s.response.SUCCESS?(e.taofang_list=t.Result.FSeriesRoomsList,e.input.taofang=e.taofang_list[0]):r.autoHide(t.message)})},e.query_single_list=function(){n.query_single_list({find_jiaju_brand_series_rooms_id:e.input.taofang.find_jiaju_brand_series_rooms_id}).then(function(t){t.code==s.request.SUCCESS&&t.status==s.response.SUCCESS?(e.single_list=t.Result.FBlankSinglesList,e.input.single=e.single_list[0]):r.autoHide(t.message)})},e.$watch("input.brand",function(t){t&&e.query_serial_list()},!0),e.$watch("input.serial",function(t){t&&e.query_taofang_list()},!0),e.$watch("input.taofang",function(t){t&&e.query_single_list()},!0),e.provinces=["北京市","上海市","天津市","重庆市","河北省","山西省","内蒙古自治区","辽宁省","吉林省","黑龙江省","江苏省","浙江省","安徽省","福建省","江西省","山东省","河南省","湖北省","湖南省","广东省","广西壮族自治区","海南省","四川省","贵州省","云南省","西藏自治区","陕西省","甘肃省","青海省","宁夏回族自治区","新疆维吾尔自治区"],e.input.province=e.provinces[0],e.query_distributors=function(){n.query_distributors({pn:1,page_size:1e3,province:e.input.province,city:e.input.city,message:"点击加载更多"}).then(function(t){t.code==s.request.SUCCESS&&t.status==s.response.SUCCESS?(e.distributors=t.Result.DealerList.list,e.input.distributor=e.distributors[0]):r.autoHide("服务器错误")})},e.query_cities=function(){n.query_cities().then(function(t){e.cities=t[e.input.province],e.input.city=e.cities[0]})},e.$watch("input.province",function(t){t&&e.query_cities()}),e.$watch("input.city",function(t){t&&e.query_distributors()});for(var u=[],c=(new Date).getFullYear();c>2e3;)u.push(c),c--;e.years=u,e.input.year=e.years[0],e.months=["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],e.input.month=e.months[0],e.ajaxForm=function(){o.show(),n.create_comment({find_jiaju_brand_id:e.input.brand.find_jiaju_brand_id,find_jiaju_brand_series_id:e.input.serial.find_jiaju_brand_series_id,find_jiaju_brand_series_rooms_id:e.input.taofang.find_jiaju_brand_series_rooms_id,find_jiaju_brand_series_rooms_blank_single_id:e.input.single.find_jiaju_brand_series_rooms_blank_single_id,province:e.input.province,city:e.input.city,dealer_id:e.input.distributor&&e.input.distributor.dealer_id||"",price:e.input.price,year:e.input.year,month:e.input.month,caizhi_score:e.input.caizhi_score||"",gongneng_score:e.input.gongneng_score||"",waiguan_score:e.input.waiguan_score||"",gongyi_score:e.input.gongyi_score||"",tuzhuang_score:e.input.tuzhuang_score||"",huanbao_score:e.input.huanbao_score||"",xingjiabi_score:e.input.xingjiabi_score||"",manyidu_score:e.input.manyidu_score||"",buy_aim:e.input.buy_aim,use_ganshou:e.input.use_ganshou,use_manyi:e.input.use_manyi,use_not_manyi:e.input.use_not_manyi,use_xilie_manyi:e.input.use_xilie_manyi,use_xilie_not_manyi:e.input.use_xilie_not_manyi,use_caizhi:e.input.use_caizhi,use_gongneng:e.input.use_gongneng,use_waiguan:e.input.use_waiguan,use_gongyi:e.input.use_gongyi,use_tuzhuang:e.input.use_tuzhuang,use_huanbao:e.input.use_huanbao,use_xingjiabi:e.input.iuse_xingjiabid,use_qita:e.input.use_qita,use_ben_xilie:e.input.use_ben_xilie}).then(function(e){o.hide(),e.code==s.request.SUCCESS&&e.status==s.response.SUCCESS?(r.autoHide(e.message),t(function(){i.path("index").replace()},2e3)):r.autoHide(e.message)})}}]),angular.module("Pingce").controller("contactController",["$scope","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("Pingce").controller("commentController",["$scope","userServices","$routeParams","errorServices","toastServices","localStorageService","config",function(e,t,i,n,r,o,a){e.comments=[],e.page={pn:1,page_size:10,message:"点击加载更多",find_jiaju_brand_series_id:i.id},e.loadMore=function(){e.no_more||(r.show(),e.page.message="正在加载...",t.query_serial_comment_by_id(e.page).then(function(t){r.hide(),e.page.message="点击加载更多",t.code==a.request.SUCCESS&&t.status==a.response.SUCCESS?(e.comments=e.comments.concat(t.Result.CommentList.list),e.serial=t.Result.FindJiajuBrandSeriesDetail,e.no_more=e.comments.length==t.Result.CommentList.totalRow?!0:!1):n.autoHide("服务器错误"),e.no_more&&(e.page.message="没有了"),e.page.pn++}))},e.loadMore(),e.buy_aim=["","新房装修","旧房升级","重装新房","小孩出生","其他"],e.parse_aim=function(t){return e.buy_aim[t]}}]),angular.module("Pingce").controller("categoryInfoController",["$scope","$rootScope","$routeParams","userServices","errorServices","toastServices","localStorageService","config",function(e,t,i,n,r,o,a,s){i.id||t.back(),o.show(),n.query_hangye_detail({hangye_insider_classify03_id:i.id}).then(function(t){o.hide(),t.code==s.request.SUCCESS&&t.status==s.response.SUCCESS?(e.category_info=t.Result.HangyeInsider,e.supplier_list=t.Result.HangyeInsiderSupplierList):r.autoHide(t.message)})}]),angular.module("Pingce").controller("category3Controller",["$scope","$rootScope","$routeParams","userServices","errorServices","toastServices","localStorageService","config",function(e,t,i,n,r,o,a,s){i.id||t.back(),o.show(),n.query_hangye_category3({hangye_insider_classify02_id:i.id}).then(function(t){o.hide(),t.code==s.request.SUCCESS&&t.status==s.response.SUCCESS?(e.category_list=t.Result.HangyeInsiderClassify03List,e.supplier_list=t.Result.HangyeInsiderClassify03SupplierList):r.autoHide(t.message)})}]),angular.module("Pingce").controller("category2Controller",["$scope","$rootScope","$routeParams","userServices","errorServices","toastServices","localStorageService","config",function(e,t,i,n,r,o,a,s){i.type||t.back(),o.show(),n.query_hangye_category2({classify_type:i.type}).then(function(t){o.hide(),t.code==s.request.SUCCESS&&t.status==s.response.SUCCESS?e.category_list=t.Result.HangyeInsiderClassify02List:r.autoHide(t.message)})}]),angular.module("Pingce").controller("brandController",["$scope","$rootScope","$routeParams","userServices","errorServices","toastServices","localStorageService","config",function(e,t,i,n,r,o,a,s){i.id||t.back(),o.show(),n.query_jiaju_brand_by_id({find_jiaju_brand_id:i.id}).then(function(t){o.hide(),t.code==s.request.SUCCESS&&t.status==s.response.SUCCESS?e.brand=t.Result.FindJiajuBrandDetail:r.autoHide(t.message)})}]),angular.module("Pingce").controller("articleController",["$scope","$sce","$rootScope","$routeParams","userServices","errorServices","toastServices","localStorageService","config",function(e,t,i,n,r,o,a,s,u){n.id||i.back(),a.show(),r.query_pingce_article({jiaju_test_id:n.id}).then(function(t){a.hide(),t.code==u.request.SUCCESS&&t.status==u.response.SUCCESS?e.article=t.Result.JiajuTest:o.autoHide(t.message)}),e.parse_html=function(e){return t.trustAsHtml(e)}}]),angular.module("Pingce").directive("onRepeatDone",function(){return{restrict:"A",link:function(e,t){e.$last&&e.$emit("onRepeatDone",t)}}}),angular.module("Pingce").directive("onload",function(){return{restrict:"A",link:function(e,t){$(t).css({opacity:0}),$(t).bind("load",function(){$(t).css({opacity:1})})}}}),angular.module("Pingce").directive("mobilepicker",["$timeout",function(e){return{restrict:"E",scope:{options:"="},template:"<input type='text' name='picker' readonly ng-model='options.value'>",link:function(t,i){var n={beginyear:1950,endyear:(new Date).getFullYear(),days:["周日","周一","周二","周三","周四","周五","周六"],curdate:!1,theme:"date",event:"click",callBack:function(e){t.options.value=e.y+"-"+e.M+"-"+e.d}};e(function(){$(i).find("input").datePicker(angular.extend({},n,t.options))},0)}}}]),angular.module("Pingce").directive("imageview",["$timeout",function(e){return{restrict:"E",scope:{src:"=","default":"=?"},controller:["$scope","$element","$attrs",function(t,i,n){function r(e){$(e.target).css({width:"auto",height:"auto"});var i=$(e.target),n=i.width(),r=i.height(),o=parseFloat(n)/parseFloat(r);o<t.rate?(n=t.width,r=t.width/o,i.css({display:"inline-block",height:r,width:n,"margin-top":-(r-t.height)/2})):(r=t.height,n=r*o,i.css({display:"inline-block",height:r,width:n,"margin-left":-(n-t.width)/2})),i.parent().css({background:"none"}),i.css({visibility:"visible"})}function o(e){var i=$(e.target),n=i.width(),r=i.height(),o=parseFloat(n)/parseFloat(r);o<t.rate?i.css({display:"inline-block",height:"100%",width:"auto"}):i.css({display:"inline-block",height:"auto",width:"100%"}),i.parent().css({background:"none"}),i.css({visibility:"visible"})}return t.default_image=t.default||"../images/default.png",t.rate=parseFloat(t.$eval(n.rate)),t.width=i.parent().width()||$(window).width(),t.height=t.width/t.rate,t.rate?(this.show_center_on_loaded=function(t){r(t),e(function(){r(t)},100)},this.show_on_loaded=function(t){o(t),e(function(){o(t)},100)},void 0):(console.log("unexpect rate"),void 0)}],template:function(e){var t="<img ng-src='{{src}}' show-center-on-loaded err-src='{{default_image}}'>";return void 0==$(e).attr("center-only")&&(t="<img ng-src='{{src}}' show-on-loaded err-src='{{default_image}}'>"),t},link:function(e,t){var i={display:"block",width:e.width,overflow:"hidden","text-align":"center","background-image":"url("+e.default_image+")","background-position":"center center","background-repeat":"no-repeat",height:e.height,overflow:"hidden"};$(t).css(i)}}}]).directive("showOnLoaded",function(){return{restrict:"A",require:"^imageview",link:function(e,t,i,n){t.bind("load",n.show_on_loaded)}}}).directive("showCenterOnLoaded",["$timeout",function(e){return{restrict:"A",require:"^imageview",link:function(t,i,n,r){var o=$(i);e(function(){ImgCache.isCached(o.attr("src"),function(e,t){t?ImgCache.useCachedFile(o):ImgCache.cacheFile(o.attr("src"),function(){ImgCache.useCachedFile(o)})})},0),i.bind("load",r.show_center_on_loaded)}}}]),angular.module("Pingce").directive("dribehanceHeader",["$rootScope","userServices","localStorageService",function(e,t,i){return{restrict:"E",templateUrl:"templates/header.html",scope:{title:"=",backAction:"="},link:function(n){n.go=e.go,i.get("token")&&t.query_basicinfo().then(function(e){n.user=e.Result.UserInfo}),n.logout=function(){n.user="",i.remove("token")}}}}]),angular.module("Pingce").directive("dribehanceFooter",function(){return{restrict:"E",templateUrl:"templates/footer.html",scope:{active:"="},link:function(){}}}),angular.module("Pingce").directive("errSrc",function(){return{restrict:"A",link:function(e,t,i){$(t).bind("error",function(){$(t).attr("src",i.errSrc)})}}}),angular.module("Pingce").directive("countdown",["$interval",function(e){return{restrict:"E",scope:{countdown:"=",disabled:"=countdownDisabled"},link:function(t,i){function n(){var i=t.countdown.message,n=parseFloat(t.countdown.count)?parseFloat(t.countdown.count):60;r=!0,t.$apply(function(){t.countdown.message=n--,t.countdown.message=n+"s重新获取",t.countdown.mode="disabled",t.countdown.reset=!1,t.countdown.callback()});var o=e(function(){t.countdown.message=n--,t.countdown.message=n+"s重新获取",(0>n||t.countdown.reset)&&(e.cancel(o),t.countdown.message=i,r=!1)},1e3)}var r=!1;$(i).bind("click",function(){t.disabled||r||n()})}}}]),angular.module("Pingce").directive("confirm",function(){return{restrict:"E",scope:{confirm:"="},templateUrl:"templates/confirm.html",link:function(e,t){e.confirm=angular.extend({},{title:"Tips",content:"Are You Sure?",content_type:"content",open:function(){$(t).show()},cancel:function(){$(t).hide(),"function"==typeof e.confirm.cancle_callback&&e.confirm.cancle_callback()},ok:function(){$(t).hide(),"function"==typeof e.confirm.ok_callback&&(e.confirm.ok_callback(),e.confirm.content_type="content")}},e.confirm)}}}),angular.module("Pingce").directive("banner",function(){return{restrict:"E",transclude:!0,template:"<div class='carousel-holder owl-carousel theme' ng-transclude></div>",link:function(e,t){var i={autoplay:!0,items:1};i=angular.extend({},i,e.$eval($(t).attr("data-options")));var n=parseFloat(e.$eval($(t).attr("data-rate"))),r={display:"block",width:$(t).parent().width()||$(window).width(),height:($(t).parent().width()||$(window).width())/n};$(t).css(r),e.$on("onRepeatDone",function(){$(t).find(".carousel-holder").owlCarousel(i)})}}}),angular.module("Pingce").constant("config",{url:"http://orsynsystem.com:8080",imageUrl:"http://orsynsystem.com:8080/files/image?name=",request:{SUCCESS:"200",TOKEN_INVALID:"405"},response:{SUCCESS:1},common_params:{invoke:"h5"},interceptor:["index","pingce","article","neimu","category2","category3","category_info","image_group","jiaju","brand","serial","taofang","kongjian","product","vs_2","vs_3","vs_4","vs_1","comment","create_comment","query_price","to_be_distributor","distributors","distributor","supplier","contact","feedback","search_category","search_article","signin","signup","forget","me"]});
//# sourceMappingURL=app.min.js.map
