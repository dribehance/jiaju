angular.module("Pingce",["ngRoute","ngSanitize","LocalStorageModule","flow"]).config(["$routeProvider","$httpProvider","$locationProvider","localStorageServiceProvider","config",function(e,i,t,n,r){angular.forEach(r.interceptor,function(i){var t=i.replace(/_([0-9]|[a-z])/g,function(e){return e.split("_")[1].toUpperCase()});t+="Controller",e.when("/"+i,{templateUrl:"templates/"+i+".html",reloadOnSearch:!0,controller:t,resolve:{user:["$q","$location","localStorageService",function(e,t,n){var r=["me","create_serial_comment","create_single_comment"],o=e.defer();return r.includes(i)&&!n.get("token")?(o.reject(),t.path("/signin").replace(),void 0):(o.resolve(),o.promise)}]}})}),e.otherwise("/index"),i.defaults.useXDomain=!0,i.defaults.withCredentials=!0,delete i.defaults.headers.common["X-Requested-With"],n.setStorageCookie(.02),i.interceptors.push("tokenInterceptor"),ImgCache.options.debug=!1,ImgCache.options.chromeQuota=52428800}]).run(["appServices",function(e){ImgCache.init(),e.init()}]),angular.module("Pingce").factory("utilServices",["$q",function(e){var i=function(e){var i;i=e.split(",")[0].indexOf("base64")>=0?atob(e.split(",")[1]):unescape(e.split(",")[1]);for(var t=e.split(",")[0].split(":")[1].split(";")[0],n=new Uint8Array(i.length),r=0;r<i.length;r++)n[r]=i.charCodeAt(r);return new Blob([n],{type:t})},t=function(t){var n=e.defer(),r=document.createElement("img");try{var o=new FileReader;o.onload=function(e){r.src=e.target.result;var t=document.createElement("canvas"),o=t.getContext("2d");o.drawImage(r,0,0);var a=500,s=500,u=r.width,c=r.height;u>c?u>a&&(c*=a/u,u=a):c>s&&(u*=s/c,c=s),t.width=u,t.height=c;var o=t.getContext("2d");o.drawImage(r,0,0,u,c);var l=t.toDataURL("image/jpeg"),_=i(l);n.resolve(_)},o.readAsDataURL(t)}catch(a){n.resolve(a)}return n.promise};return{resizeFile:t}}]),angular.module("Pingce").factory("userServices",["$rootScope","$http","apiServices","localStorageService","config",function(e,i,t,n,r){return{rsa_key:t._get(angular.extend({},r.common_params,{url:"key/private_key.pem"})),signin:t._get(angular.extend({},r.common_params,{url:r.url+"/app/UserCenter/Login"})),signup:t._get(angular.extend({},r.common_params,{url:r.url+"/app/UserCenter/RegistTel"})),forget:t._get(angular.extend({},r.common_params,{url:r.url+"/app/UserCenter/ResetPassword"})),reset:t._get(angular.extend({},r.common_params,{url:r.url+"/app/UserCenter/SetPassword"})),get_smscode:t._get(angular.extend({},r.common_params,{url:r.url+"/app/UserCenter/getRegisterCode"})),get_smscode_1:t._get(angular.extend({},r.common_params,{url:r.url+"/app/UserCenter/GetSetCode",token:n.get("token")})),get_smscode_2:t._get(angular.extend({},r.common_params,{url:r.url+"/app/UserCenter/getForgetCode"})),query_basicinfo:t._get(angular.extend({},r.common_params,{url:r.url+"/app/UserCenter/baseInfo",token:n.get("token"),cache:!1})),update_basicinfo:t._get(angular.extend({},r.common_params,{url:r.url+"/app/UserCenter/UpdateOther",token:n.get("token")})),update_password:t._get(angular.extend({},r.common_params,{url:r.url+"/app/UserCenter/SetPassword",token:n.get("token")})),query_banner:t._get(angular.extend({},r.common_params,{url:r.url+"/app/HomeManage/bannerList"})),query_pingce_category_list:t._get(angular.extend({},r.common_params,{url:r.url+"/app/JiajuTestManage/jiajuTestClassify"})),query_pingce_article_list:t._get(angular.extend({},r.common_params,{url:r.url+"/app/JiajuTestManage/jiajuTestList"})),query_pingce_article:t._get(angular.extend({},r.common_params,{url:r.url+"/app/JiajuTestManage/jiajuTestDetail"})),query_hangye_category2:t._get(angular.extend({},r.common_params,{url:r.url+"/app/HangyeInsiderManage/hangyeInsiderClassify02"})),query_hangye_category3:t._get(angular.extend({},r.common_params,{url:r.url+"/app/HangyeInsiderManage/hangyeInsiderClassify03"})),query_hangye_detail:t._get(angular.extend({},r.common_params,{url:r.url+"/app/HangyeInsiderManage/hangyeInsiderDetail"})),query_supplier_by_id:t._get(angular.extend({},r.common_params,{url:r.url+"/app/HangyeInsiderManage/supplierDetail"})),query_jiaju_list:t._get(angular.extend({},r.common_params,{url:r.url+"/app/FindJiajuManage/findJiajuBrandList",cache:!1})),query_jiaju_category_list:t._get(angular.extend({},r.common_params,{url:r.url+"/app/FindJiajuManage/findJiajuClassify"})),query_jiaju_brand_by_id:t._get(angular.extend({},r.common_params,{url:r.url+"/app/FindJiajuManage/findJiajuBrandDetail"})),query_jiaju_serial_by_id:t._get(angular.extend({},r.common_params,{url:r.url+"/app/FindJiajuManage/findJiajuBrandSeriesDetail"})),query_jiaju_taofang_by_id:t._get(angular.extend({},r.common_params,{url:r.url+"/app/FindJiajuManage/findJiajuBrandSeriesRoomsDetail"})),query_jiaju_kongjian_by_id:t._get(angular.extend({},r.common_params,{url:r.url+"/app/FindJiajuManage/findJiajuBrandSeriesRoomsBlankSingleList"})),query_jiaju_product_by_id:t._get(angular.extend({},r.common_params,{url:r.url+"/app/FindJiajuManage/fSeriesRoomsBlankSingleDetail"})),query_distributors:t._get(angular.extend({},r.common_params,{url:r.url+"/app/DealerManage/dealerList"})),query_distributor_by_id:t._get(angular.extend({},r.common_params,{url:r.url+"/app/DealerManage/dealerDetail"})),query_brand_list:t._get(angular.extend({},r.common_params,{url:r.url+"/app/InquiryManage/fBrandList",cache:!1})),query_serial_list:t._get(angular.extend({},r.common_params,{url:r.url+"/app/InquiryManage/fSeriesList",cache:!1})),query_taofang_list:t._get(angular.extend({},r.common_params,{url:r.url+"/app/InquiryManage/fRoomsList",cache:!1})),query_single_list:t._get(angular.extend({},r.common_params,{url:r.url+"/app/InquiryManage/fSinglesList",cache:!1})),ask_price:t._get(angular.extend({},r.common_params,{url:r.url+"/app/InquiryManage/inquiry"})),apply_distributor:t._get(angular.extend({},r.common_params,{url:r.url+"/app/DealerManage/dealerApply"})),query_cities:t._get(angular.extend({},r.common_params,{url:"city/city.json",cache:!0})),query_hot:t._get(angular.extend({},r.common_params,{url:r.url+"/app/HomeManage/jiajuTestHotList"})),query_compare_image_by_id:t._get(angular.extend({},r.common_params,{url:r.url+"/app/ComparisonManage/fBlankSingleImagesComp"})),query_compare_serial_by_id:t._get(angular.extend({},r.common_params,{url:r.url+"/app/ComparisonManage/findBrandSeriesDetail"})),query_compare_comment_by_id:t._get(angular.extend({},r.common_params,{url:r.url+"/app/ComparisonManage/fBlankSingleCommmentDetail"})),query_serial_comment_by_id:t._get(angular.extend({},r.common_params,{url:r.url+"/app/FindJiajuManage/fBrandSeriesCommentList"})),query_single_comment_by_id:t._get(angular.extend({},r.common_params,{url:r.url+"/app/FindJiajuManage/fBlankSingleCommmentList"})),query_single_comment_by_id:t._get(angular.extend({},r.common_params,{url:r.url+"/app/FindJiajuManage/fBlankSingleCommmentList"})),query_image_group_one_by_id:t._get(angular.extend({},r.common_params,{url:r.url+"/app/HangyeInsiderManage/hangyeInsiderImgDetail"})),query_image_group_two_by_id:t._get(angular.extend({},r.common_params,{url:r.url+"/app/FindJiajuManage/fJiajuImgDetail"})),search_article:t._get(angular.extend({},r.common_params,{url:r.url+"/app/FindJiajuManage/fJiajuImgDetail"})),create_comment:t._get(angular.extend({},r.common_params,{token:n.get("token"),url:r.url+"/app/CommentManage/comment"})),query_my_comment:t._get(angular.extend({},r.common_params,{token:n.get("token"),url:r.url+"/app/CommentManage/myCommentList"})),feedback:t._get(angular.extend({},r.common_params,{token:n.get("token"),url:r.url+"/app/UserCenter/feedback"})),search_jiaju:t._get(angular.extend({},r.common_params,{url:r.url+"/app/FindJiajuManage/findJiajuBrandSearch"}))}}]),angular.module("Pingce").factory("tokenInterceptor",["$location","$q","localStorageService","errorServices","config",function(e,i,t,n,r){return{request:function(e){return e},requestError:function(){},response:function(n){var o=i.defer();return n.config.url.indexOf(".html")>0?n:n.data.code==r.request.TOKEN_INVALID?(console.log("TOKEN_INVALID"),t.remove("token"),e.path("/signin").replace(),o.promise):n},responseError:function(e){var t=i.defer();return n.requestError(e.data,e.status,e.headers,e.config),t.promise}}}]),angular.module("Pingce").factory("toastServices",function(){return{show:function(){$(".toast").show()},hide:function(){$(".toast").hide()},start:function(){NProgress.start()},done:function(){NProgress.done()}}}),angular.module("Pingce").factory("facebookServices",["$rootScope","$route","$http","$window","$location","$q","userServices","toastServices","errorServices","localStorageService","config",function(e,i,t,n,r,o,a,s,u,c,l){return n.fbAsyncInit=function(){var e=n.FB||void 0;e&&e.init({appId:"217442991983314",xfbml:!0,version:"v2.6"})},{share:function(e){var t=n.FB||void 0;t&&t.ui({method:"feed",link:e||l.share.link,redirect_uri:e||l.share.link,caption:l.share.title},function(){i.reload()})},login:function(){var e=o.defer(),i=this;return i._facebook_connected().then(function(e){return e}).then(function(){i._query_facebook_user_info().then(function(i){e.resolve(i)})}),e.promise},logout:function(){var e=n.FB||void 0;e&&e.logout(function(){})},_facebook_connected:function(){var e=o.defer(),i=n.FB||void 0;return i?(s.show(),i.login(function(i){s.hide(),"connected"==i.status?e.resolve(i):e.reject("_facebook_connected occured")},{scope:"public_profile,email"}),e.promise):void 0},_query_facebook_user_info:function(){var e=o.defer(),i=n.FB||void 0;return i?(i.api("/me",{fields:"id,email,name,picture,gender,last_name"},function(i){!i||i.error?e.reject("_query_facebook_user_info error occured"):e.resolve(i)}),e.promise):void 0}}}]),angular.module("Pingce").factory("errorServices",["$rootScope","$timeout","toastServices",function(e,i,t){return{show:function(i){e.error_msg=i,$(".error-msg").show()},hide:function(){e.error_msg="",$(".error-msg").hide()},autoHide:function(t){e.error_msg=t,$(".error-msg").show(),i(function(){e.error_msg="",$(".error-msg").hide()},3e3)},requestError:function(e,i,n,r){switch(t.hide(),i){case 0:this.autoHide("连接超时");break;case 500:case 501:case 502:case 503:case 504:case 505:case 506:case 507:case 509:case 510:this.autoHide("服务器连接出错")}console.log("onRequestError output status, data, headers, config"),console.log(i),console.log(e),console.log(n),console.log(r),console.log("onRequestError end")}}}]),angular.module("Pingce").factory("appServices",["$rootScope","$sce","$anchorScroll","$window","$location","errorServices","toastServices","config",function(e,i,t,n,r,o,a,s){var u=function(){},c=function(e,i,t){a.hide(),o.hide(),_(e,i,t)},l=function(){},_=function(){};return{init:function(){e.$on("$routeChangeStart",u),e.$on("$routeChangeSuccess",c),e.$on("$routeChangeError",l),e.go=function(e){r.path(e)},e.back=function(){n.history.back()},e.repeat_star=function(e){return e?new Array(parseFloat(e)):[]},e.parse_html=function(e){return e?(e=e.replace(/\n/g,"<br>"),i.trustAsHtml(e)):void 0},e.jump_index=function(e){r.hash(e),t()},e.staticImageUrl=s.imageUrl}}}]),angular.module("Pingce").factory("apiServices",["$http","localStorageService",function(e,i){return{_get:function(t){return function(n){return void 0!==t.token&&(t.token=i.get("token")),e({url:t.url,method:"GET",cache:void 0===t.cache?!0:t.cache,params:angular.extend({},t,n)}).then(function(e){return e.data})}},_post:function(t){return function(n){return void 0!==t.token&&(t.token=i.get("token")),e({url:t.url,method:"POST",cache:void 0===t.cache?!0:t.cache,headers:{"Content-Type":"application/x-www-form-urlencoded"},transformRequest:function(e){var i=[];for(var t in e)i.push(encodeURIComponent(t)+"="+encodeURIComponent(e[t]));return i.join("&")},data:angular.extend({},t,n)}).then(function(e){return e.data})}}}}]),angular.module("Pingce").directive("vs3Col",["$timeout",function(){return{restrict:"A",templateUrl:"templates/vs_3_col.html",scope:{brandId:"=?",serialId:"=?",taofangId:"=?",productId:"=?"},controller:["$scope","$rootScope","$element","$attrs","userServices","errorServices","toastServices","localStorageService","config",function(e,i,t,n,r,o,a,s,u){e.staticImageUrl=i.staticImageUrl,e.input={},a.show(),r.query_brand_list().then(function(i){a.hide(),i.code==u.request.SUCCESS&&i.status==u.response.SUCCESS?(e.brand_list=i.Result.FindJiajuBrandList,angular.forEach(e.brand_list,function(i){i.find_jiaju_brand_id==e.brandId&&(e.input.brand=i)})):o.autoHide(i.message)}),e.query_serial_list=function(){a.show(),r.query_serial_list({find_jiaju_brand_id:e.input.brand.find_jiaju_brand_id}).then(function(i){a.hide(),i.code==u.request.SUCCESS&&i.status==u.response.SUCCESS?(e.serial_list=i.Result.FindJiajuBrandSeriesList,angular.forEach(e.serial_list,function(i){i.find_jiaju_brand_series_id==e.serialId&&(e.input.serial=i)})):o.autoHide(i.message)})},e.query_taofang_list=function(){a.show(),r.query_taofang_list({find_jiaju_brand_series_id:e.input.serial.find_jiaju_brand_series_id}).then(function(i){a.hide(),i.code==u.request.SUCCESS&&i.status==u.response.SUCCESS?(e.taofang_list=i.Result.FSeriesRoomsList,angular.forEach(e.taofang_list,function(i){i.find_jiaju_brand_series_rooms_id==e.taofangId&&(e.input.taofang=i)})):o.autoHide(i.message)})},e.query_single_list=function(){a.show(),r.query_single_list({find_jiaju_brand_series_rooms_id:e.input.taofang.find_jiaju_brand_series_rooms_id}).then(function(i){a.hide(),i.code==u.request.SUCCESS&&i.status==u.response.SUCCESS?(e.single_list=i.Result.FBlankSinglesList,angular.forEach(e.single_list,function(i){i.find_jiaju_brand_series_rooms_blank_single_id==e.productId&&(e.input.single=i)})):o.autoHide(i.message)})},e.query_product=function(i){a.show(),r.query_jiaju_product_by_id({find_jiaju_brand_series_rooms_blank_single_id:i}).then(function(i){a.hide(),i.code==u.request.SUCCESS&&i.status==u.response.SUCCESS?e.product=i.Result.FSeriesRoomsBlankSingleDetail:o.autoHide(i.message)})},e.$watch("input.brand",function(i){i&&e.query_serial_list()},!0),e.$watch("input.serial",function(i){i&&e.query_taofang_list()},!0),e.$watch("input.taofang",function(i){i&&e.query_single_list()},!0),e.$watch("input.single",function(i){i&&e.query_product(i.find_jiaju_brand_series_rooms_blank_single_id)},!0)}],link:function(){}}}]),angular.module("Pingce").directive("vs2Col",["$timeout",function(){return{restrict:"A",templateUrl:"templates/vs_2_col.html",scope:{brandId:"=?",serialId:"=?"},controller:["$scope","$rootScope","$element","$attrs","userServices","errorServices","toastServices","localStorageService","config",function(e,i,t,n,r,o,a,s,u){e.staticImageUrl=i.staticImageUrl,e.input={},a.show(),r.query_brand_list().then(function(i){a.hide(),i.code==u.request.SUCCESS&&i.status==u.response.SUCCESS?(e.brand_list=i.Result.FindJiajuBrandList,angular.forEach(e.brand_list,function(i){i.find_jiaju_brand_id==e.brandId&&(e.input.brand=i)})):o.autoHide(i.message)}),e.query_serial_list=function(){a.show(),r.query_serial_list({find_jiaju_brand_id:e.input.brand.find_jiaju_brand_id}).then(function(i){a.hide(),i.code==u.request.SUCCESS&&i.status==u.response.SUCCESS?(e.serial_list=i.Result.FindJiajuBrandSeriesList,angular.forEach(e.serial_list,function(i){i.find_jiaju_brand_series_id==e.serialId&&(e.input.serial=i)})):o.autoHide(i.message)})},e.query_compare_serial_by_id=function(i){a.show(),r.query_compare_serial_by_id({find_jiaju_brand_series_id:i}).then(function(i){a.hide(),i.code==u.request.SUCCESS&&i.status==u.response.SUCCESS?e.serial=i.Result.FindJiajuBrandSeries:o.autoHide(i.message)})},e.$watch("input.brand",function(i){i&&e.query_serial_list()},!0),e.$watch("input.serial",function(i){i&&e.query_compare_serial_by_id(i.find_jiaju_brand_series_id)},!0)}],link:function(){}}}]),angular.module("Pingce").directive("onRepeatDone",function(){return{restrict:"A",link:function(e,i){e.$last&&e.$emit("onRepeatDone",i)}}}),angular.module("Pingce").directive("onload",function(){return{restrict:"A",link:function(e,i){$(i).css({opacity:0}),$(i).bind("load",function(){$(i).css({opacity:1})})}}}),angular.module("Pingce").directive("mobilepicker",["$timeout",function(e){return{restrict:"E",scope:{options:"="},template:"<input type='text' name='picker' readonly ng-model='options.value'>",link:function(i,t){var n={beginyear:1950,endyear:(new Date).getFullYear(),days:["周日","周一","周二","周三","周四","周五","周六"],curdate:!1,theme:"date",event:"click",callBack:function(e){i.options.value=e.y+"-"+e.M+"-"+e.d}};e(function(){$(t).find("input").datePicker(angular.extend({},n,i.options))},0)}}}]),angular.module("Pingce").directive("imageview",["$timeout",function(e){return{restrict:"E",scope:{src:"=","default":"=?"},controller:["$scope","$element","$attrs",function(i,t,n){function r(e){$(e.target).css({width:"auto",height:"auto"});var t=$(e.target),n=t.width(),r=t.height(),o=parseFloat(n)/parseFloat(r);o<i.rate?(n=i.width,r=i.width/o,t.css({display:"inline-block",height:r,width:n,"margin-top":-(r-i.height)/2})):(r=i.height,n=r*o,t.css({display:"inline-block",height:r,width:n,"margin-left":-(n-i.width)/2})),t.parent().css({background:"none"}),t.css({visibility:"visible"})}function o(e){var t=$(e.target),n=t.width(),r=t.height(),o=(parseFloat(i.width)-parseFloat(n))/2,a=(parseFloat(i.height)-parseFloat(r))/2,s=parseFloat(n)/parseFloat(r);s<i.rate?t.css({display:"inline-block",height:"100%",width:"auto","margin-left":o}):t.css({display:"inline-block",height:"auto",width:"100%","margin-top":a}),t.parent().css({background:"none"}),t.css({visibility:"visible"})}return i.default_image=i.default||"../images/default.png",i.rate=parseFloat(i.$eval(n.rate)),i.width=t.parent().width()||$(window).width(),i.height=i.width/i.rate,i.rate?(this.show_center_on_loaded=function(i){r(i),e(function(){r(i)},100)},this.show_on_loaded=function(i){o(i),e(function(){o(i)},100)},void 0):(console.log("unexpect rate"),void 0)}],template:function(e){var i="<img ng-src='{{src}}' show-center-on-loaded err-src='{{default_image}}'>";return void 0==$(e).attr("center-only")&&(i="<img ng-src='{{src}}' show-on-loaded err-src='{{default_image}}'>"),i},link:function(e,i){var t={display:"block",width:e.width,overflow:"hidden","text-align":"center","background-image":"url("+e.default_image+")","background-position":"center center","background-repeat":"no-repeat",height:e.height,overflow:"hidden"};$(i).css(t)}}}]).directive("showOnLoaded",function(){return{restrict:"A",require:"^imageview",link:function(e,i,t,n){i.bind("load",n.show_on_loaded)}}}).directive("showCenterOnLoaded",["$timeout",function(){return{restrict:"A",require:"^imageview",link:function(e,i,t,n){i.bind("load",n.show_center_on_loaded)}}}]),angular.module("Pingce").directive("dribehanceHeader",["$rootScope","userServices","localStorageService",function(e,i,t){return{restrict:"E",templateUrl:"templates/header.html",scope:{title:"=",backAction:"="},link:function(n){n.go=e.go,t.get("token")&&i.query_basicinfo().then(function(e){n.user=e.Result.UserInfo}),n.logout=function(){n.user="",t.remove("token")}}}}]),angular.module("Pingce").directive("dribehanceFooter",function(){return{restrict:"E",templateUrl:"templates/footer.html",scope:{active:"="},link:function(){}}}),angular.module("Pingce").directive("errSrc",function(){return{restrict:"A",link:function(e,i,t){$(i).bind("error",function(){$(i).attr("src",t.errSrc)})}}}),angular.module("Pingce").directive("duoshuoComment",["$timeout",function(e){return{restrict:"E",scope:{key:"@",title:"@",url:"@"},link:function(i,t){e(function(){var e=document.createElement("div");e.setAttribute("data-thread-key",i.key),e.setAttribute("data-url",i.url),e.setAttribute("data-title",i.title),DUOSHUO.EmbedThread(e),$(t).append(e)},2e3)}}}]),angular.module("Pingce").directive("countdown",["$interval",function(e){return{restrict:"E",scope:{countdown:"=",disabled:"=countdownDisabled"},link:function(i,t){function n(){var t=i.countdown.message,n=parseFloat(i.countdown.count)?parseFloat(i.countdown.count):60;r=!0,i.$apply(function(){i.countdown.message=n--,i.countdown.message=n+"s重新获取",i.countdown.mode="disabled",i.countdown.reset=!1,i.countdown.callback()});var o=e(function(){i.countdown.message=n--,i.countdown.message=n+"s重新获取",(0>n||i.countdown.reset)&&(e.cancel(o),i.countdown.message=t,r=!1)},1e3)}var r=!1;$(t).bind("click",function(){i.disabled||r||n()})}}}]),angular.module("Pingce").directive("confirm",function(){return{restrict:"E",scope:{confirm:"="},templateUrl:"templates/confirm.html",link:function(e,i){e.confirm=angular.extend({},{title:"Tips",content:"Are You Sure?",content_type:"content",open:function(){$(i).show()},cancel:function(){$(i).hide(),"function"==typeof e.confirm.cancle_callback&&e.confirm.cancle_callback()},ok:function(){$(i).hide(),"function"==typeof e.confirm.ok_callback&&(e.confirm.ok_callback(),e.confirm.content_type="content")}},e.confirm)}}}),angular.module("Pingce").directive("banner",function(){return{restrict:"E",transclude:!0,template:"<div class='carousel-holder owl-carousel theme' ng-transclude></div>",link:function(e,i){var t={autoplay:!0,items:1,nav:!0,loop:!0};t=angular.extend({},t,e.$eval($(i).attr("data-options")));var n=parseFloat(e.$eval($(i).attr("data-rate"))),r={display:"block",width:$(i).parent().width()||$(window).width(),height:($(i).parent().width()||$(window).width())/n};$(i).css(r),e.$on("onRepeatDone",function(){$(i).find(".carousel-holder").owlCarousel(t)})}}}),angular.module("Pingce").controller("vs4Controller",["$scope","errorServices","toastServices","localStorageService","config",function(e){e.hover=function(i){e.hover_cell=i}}]),angular.module("Pingce").controller("commentColController",["$scope","userServices","errorServices","toastServices","localStorageService","config",function(e,i,t,n,r,o){e.input={},n.show(),i.query_brand_list().then(function(i){n.hide(),i.code==o.request.SUCCESS&&i.status==o.response.SUCCESS?e.brand_list=i.Result.FindJiajuBrandList:t.autoHide(i.message)}),e.query_serial_list=function(){n.show(),i.query_serial_list({find_jiaju_brand_id:e.input.brand.find_jiaju_brand_id}).then(function(i){n.hide(),i.code==o.request.SUCCESS&&i.status==o.response.SUCCESS?e.serial_list=i.Result.FindJiajuBrandSeriesList:t.autoHide(i.message)})},e.query_taofang_list=function(){n.show(),i.query_taofang_list({find_jiaju_brand_series_id:e.input.serial.find_jiaju_brand_series_id}).then(function(i){n.hide(),i.code==o.request.SUCCESS&&i.status==o.response.SUCCESS?e.taofang_list=i.Result.FSeriesRoomsList:t.autoHide(i.message)})},e.query_single_list=function(){n.show(),i.query_single_list({find_jiaju_brand_series_rooms_id:e.input.taofang.find_jiaju_brand_series_rooms_id}).then(function(i){n.hide(),i.code==o.request.SUCCESS&&i.status==o.response.SUCCESS?e.single_list=i.Result.FBlankSinglesList:t.autoHide(i.message)})},e.query_compare_comment_by_id=function(r){n.show(),i.query_compare_comment_by_id({find_jiaju_brand_series_rooms_blank_single_id:r}).then(function(i){n.hide(),i.code==o.request.SUCCESS&&i.status==o.response.SUCCESS?(e.comments=i.Result.CommentList,e.product=i.Result.FBlankSingleDetail):t.autoHide(i.message)})},e.$watch("input.brand",function(i){i&&e.query_serial_list()},!0),e.$watch("input.serial",function(i){i&&e.query_taofang_list()},!0),e.$watch("input.taofang",function(i){i&&e.query_single_list()},!0),e.$watch("input.single",function(i){i&&e.query_compare_comment_by_id(i.find_jiaju_brand_series_rooms_blank_single_id)},!0)}]),angular.module("Pingce").controller("vs3Controller",["$scope","userServices","errorServices","toastServices","localStorageService","config",function(e,i,t,n,r){e.hover=function(i){e.hover_cell=i},e.product_compare_list=new Array(4),r.get("product_compare_list")&&angular.forEach(r.get("product_compare_list"),function(i){e.product_compare_list.unshift(i)}),e.product_compare_list=e.product_compare_list.splice(0,4)}]),angular.module("Pingce").controller("vs2Controller",["$scope","errorServices","toastServices","localStorageService","config",function(e,i,t,n){e.hover=function(i){e.hover_cell=i},e.serial_compare_list=new Array(4),n.get("serial_compare_list")&&angular.forEach(n.get("serial_compare_list"),function(i){e.serial_compare_list.unshift(i)}),e.serial_compare_list=e.serial_compare_list.splice(0,4)}]),angular.module("Pingce").controller("vs1Controller",["$scope","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("Pingce").controller("imageColController",["$scope","userServices","errorServices","toastServices","localStorageService","config",function(e,i,t,n,r,o){e.input={},n.show(),i.query_brand_list().then(function(i){n.hide(),i.code==o.request.SUCCESS&&i.status==o.response.SUCCESS?e.brand_list=i.Result.FindJiajuBrandList:t.autoHide(i.message)}),e.query_serial_list=function(){n.show(),i.query_serial_list({find_jiaju_brand_id:e.input.brand.find_jiaju_brand_id}).then(function(i){n.hide(),i.code==o.request.SUCCESS&&i.status==o.response.SUCCESS?e.serial_list=i.Result.FindJiajuBrandSeriesList:t.autoHide(i.message)})},e.query_taofang_list=function(){n.show(),i.query_taofang_list({find_jiaju_brand_series_id:e.input.serial.find_jiaju_brand_series_id}).then(function(i){n.hide(),i.code==o.request.SUCCESS&&i.status==o.response.SUCCESS?e.taofang_list=i.Result.FSeriesRoomsList:t.autoHide(i.message)})},e.query_single_list=function(){n.show(),i.query_single_list({find_jiaju_brand_series_rooms_id:e.input.taofang.find_jiaju_brand_series_rooms_id}).then(function(i){n.hide(),i.code==o.request.SUCCESS&&i.status==o.response.SUCCESS?e.single_list=i.Result.FBlankSinglesList:t.autoHide(i.message)})},e.query_compare_image_by_id=function(r){n.show(),i.query_compare_image_by_id({find_jiaju_brand_series_rooms_blank_single_id:r}).then(function(i){n.hide(),i.code==o.request.SUCCESS&&i.status==o.response.SUCCESS?e.images=i.Result.FSeriesRoomsBlankSingleComp:t.autoHide(i.message)})},e.$watch("input.brand",function(i){i&&e.query_serial_list()},!0),e.$watch("input.serial",function(i){i&&e.query_taofang_list()},!0),e.$watch("input.taofang",function(i){i&&e.query_single_list()},!0),e.$watch("input.single",function(i){i&&e.query_compare_image_by_id(i.find_jiaju_brand_series_rooms_blank_single_id)},!0)}]),angular.module("Pingce").controller("toolController",["$scope","$location","$anchorScroll","errorServices","toastServices","localStorageService","config",function(e,i,t){e.top=function(){i.hash("top"),t()},e.show_compare_btn=!0;var n=["/index","/vs_1","/vs_2","/vs_3","/vs_4"];n.includes(i.path())&&(e.show_compare_btn=!1),e.index=!1,"/index"==i.path()&&(e.index=!0),e.compare=function(){return"/serial"==i.path()?(i.path("/vs_2"),void 0):"/product"==i.path()?(i.path("/vs_3"),void 0):(i.path("/vs_1"),void 0)}}]),angular.module("Pingce").controller("toBeDistributorController",["$scope","$timeout","$location","userServices","errorServices","toastServices","localStorageService","config",function(e,i,t,n,r,o,a,s){e.input={},e.provinces=["北京市","上海市","天津市","重庆市","河北省","山西省","内蒙古自治区","辽宁省","吉林省","黑龙江省","江苏省","浙江省","安徽省","福建省","江西省","山东省","河南省","湖北省","湖南省","广东省","广西壮族自治区","海南省","四川省","贵州省","云南省","西藏自治区","陕西省","甘肃省","青海省","宁夏回族自治区","新疆维吾尔自治区"],e.input.province=e.provinces[0],e.query_cities=function(){n.query_cities().then(function(i){e.cities=i[e.input.province],e.input.city=e.cities[0]})},e.$watch("input.province",function(i){i&&e.query_cities()}),e.ajaxForm=function(){o.show(),n.apply_distributor({name:e.input.name,telephone:e.input.telephone,province:e.input.province,city:e.input.city,brand:e.input.brand,mall:e.input.mall}).then(function(e){o.hide(),e.code==s.request.SUCCESS&&e.status==s.response.SUCCESS?(r.autoHide(e.message),i(function(){t.path("index").replace()},2e3)):r.autoHide(e.message)})}}]),angular.module("Pingce").controller("taofangController",["$scope","$rootScope","$routeParams","userServices","errorServices","toastServices","localStorageService","config",function(e,i,t,n,r,o,a,s){t.id||i.back(),a.set("taofang_id",t.id),o.show(),n.query_jiaju_taofang_by_id({find_jiaju_brand_series_rooms_id:t.id}).then(function(i){o.hide(),i.code==s.request.SUCCESS&&i.status==s.response.SUCCESS?e.taofang=i.Result.FindJiajuBrandSeriesRoomsDetail:r.autoHide(i.message)}),e.preview=function(){e.auto_height=!e.auto_height},e.query_charater_length=function(e){return e?e.length:void 0}}]),angular.module("Pingce").controller("supplierController",["$scope","$rootScope","$routeParams","userServices","errorServices","toastServices","localStorageService","config",function(e,i,t,n,r,o,a,s){t.type&&t.id||i.back(),o.show(),n.query_supplier_by_id({supplier_id:t.id,supplier_type:t.type}).then(function(i){o.hide(),i.code==s.request.SUCCESS&&i.status==s.response.SUCCESS?e.supplier=i.Result.HangyeInsiderClassify03Supplier:r.autoHide(i.message)}),e.preview=function(){e.auto_height=!e.auto_height},e.query_charater_length=function(e){return e?e.length:void 0}}]),angular.module("Pingce").controller("singleCommentController",["$scope","userServices","$routeParams","errorServices","toastServices","localStorageService","config",function(e,i,t,n,r,o,a){e.comments=[],e.page={pn:1,page_size:10,message:"点击加载更多",find_jiaju_brand_series_rooms_blank_single_id:t.id},e.loadMore=function(){e.no_more||(r.show(),e.page.message="正在加载...",i.query_single_comment_by_id(e.page).then(function(i){r.hide(),e.page.message="点击加载更多",i.code==a.request.SUCCESS&&i.status==a.response.SUCCESS?(e.comments=e.comments.concat(i.Result.CommentList.list),e.serial=i.Result.FBlankSingleDetail,e.no_more=e.comments.length==i.Result.CommentList.totalRow?!0:!1):n.autoHide("服务器错误"),e.no_more&&(e.page.message="没有了"),e.page.pn++}))},e.loadMore(),e.buy_aim=["","新房装修","旧房升级","重装新房","小孩出生","其他"],e.parse_aim=function(i){return e.buy_aim[i]}}]),angular.module("Pingce").controller("signupController",["$scope","$location","$timeout","userServices","errorServices","toastServices","localStorageService","config",function(e,i,t,n,r,o,a,s){e.input={},e.countdown={message:"获取验证码"},e.countdown.callback=function(){o.show(),n.get_smscode({telephone:e.input.telephone}).then(function(i){o.hide(),i.code==s.request.SUCCESS&&i.status==s.response.SUCCESS?r.autoHide(i.message):(e.countdown.reset=!0,r.autoHide(i.message))})},e.ajaxForm=function(){o.show(),n.signup({tel_code:e.input.smscode,telephone:e.input.telephone,password:e.input.password}).then(function(e){o.hide(),e.code==s.request.SUCCESS&&e.status==s.response.SUCCESS?(a.set("token",e.token),r.autoHide(e.message),t(function(){i.path("index").replace()},2e3)):r.autoHide(e.message)})}}]),angular.module("Pingce").controller("signinController",["$scope","$timeout","$location","userServices","errorServices","toastServices","localStorageService","config",function(e,i,t,n,r,o,a,s){e.input={},e.ajaxForm=function(){o.show(),n.signin({telephone:e.input.telephone,password:e.input.password}).then(function(e){o.hide(),e.code==s.request.SUCCESS&&e.status==s.response.SUCCESS?(a.set("token",e.token),r.autoHide(e.message),i(function(){t.path("index").replace()},1e3)):r.autoHide(e.message)})}}]),angular.module("Pingce").controller("settingController",["$scope","userServices","errorServices","toastServices","localStorageService","config",function(e,i,t,n,r,o){i.query_basicinfo().then(function(i){e.user=i.Result.UserInfo}),e.comments=[],e.page={pn:1,page_size:10,message:"点击加载更多"},e.loadMore=function(){e.no_more||(n.show(),e.page.message="正在加载...",i.query_my_comment(e.page).then(function(i){n.hide(),e.page.message="点击加载更多",i.code==o.request.SUCCESS&&i.status==o.response.SUCCESS?(e.comments=e.comments.concat(i.Result.MyCommentList.list),e.no_more=e.comments.length==i.Result.MyCommentList.totalRow?!0:!1):t.autoHide("服务器错误"),e.no_more&&(e.page.message="没有了"),e.page.pn++}))},e.loadMore(),e.buy_aim=["","新房装修","旧房升级","重装新房","小孩出生","其他"],e.parse_aim=function(i){return e.buy_aim[i]},e.progress=function(e){return Math.floor(100*e)},e.$on("uploaded",function(){e.user.images_01="",i.query_basicinfo().then(function(i){e.user=i.Result.UserInfo})})}]),angular.module("Pingce").controller("serialController",["$scope","$rootScope","$routeParams","userServices","errorServices","toastServices","localStorageService","config",function(e,i,t,n,r,o,a,s){t.id||i.back(),e.serial_id=t.id,a.set("serial_id",e.serial_id),o.show(),n.query_jiaju_serial_by_id({find_jiaju_brand_series_id:t.id}).then(function(i){o.hide(),i.code==s.request.SUCCESS&&i.status==s.response.SUCCESS?e.serial=i.Result.FindJiajuBrandSeriesDetail:r.autoHide(i.message)
});var u=a.get("serial_compare_list")||[];e.add_to_compare=function(){var e={brand_id:a.get("brand_id"),serial_id:a.get("serial_id")},i=!0;angular.forEach(u,function(t){JSON.stringify(t)==JSON.stringify(e)&&(i=!1)}),i&&u.push(e),a.set("serial_compare_list",u),r.autoHide("已经加入对比，请点击页面右侧的产品对比查看")},e.preview=function(){e.auto_height=!e.auto_height},e.query_charater_length=function(e){return e?e.length:void 0}}]),angular.module("Pingce").controller("serialCommentController",["$scope","userServices","$routeParams","errorServices","toastServices","localStorageService","config",function(e,i,t,n,r,o,a){e.comments=[],e.page={pn:1,page_size:10,message:"点击加载更多",find_jiaju_brand_series_id:t.id},e.loadMore=function(){e.no_more||(r.show(),e.page.message="正在加载...",i.query_serial_comment_by_id(e.page).then(function(i){r.hide(),e.page.message="点击加载更多",i.code==a.request.SUCCESS&&i.status==a.response.SUCCESS?(e.comments=e.comments.concat(i.Result.CommentList.list),e.serial=i.Result.FindJiajuBrandSeriesDetail,e.no_more=e.comments.length==i.Result.CommentList.totalRow?!0:!1):n.autoHide("服务器错误"),e.no_more&&(e.page.message="没有了"),e.page.pn++}))},e.loadMore(),e.buy_aim=["","新房装修","旧房升级","重装新房","小孩出生","其他"],e.parse_aim=function(i){return e.buy_aim[i]}}]),angular.module("Pingce").controller("searchJiajuController",["$scope","$rootScope","$routeParams","userServices","errorServices","toastServices","localStorageService","config",function(e,i,t,n,r,o,a,s){t.kw||i.back(),o.show(),n.search_jiaju({kw:t.kw}).then(function(i){o.hide(),i.code==s.request.SUCCESS&&i.status==s.response.SUCCESS?e.search_result=i.FindJiajuBeanList:r.autoHide(i.message)})}]),angular.module("Pingce").controller("searchCategoryController",["$scope","$rootScope","$routeParams","userServices","errorServices","toastServices","localStorageService","config",function(e,i,t,n,r,o,a,s){t.kw||i.back(),o.show(),n.query_hangye_category2({classify_type:0,kw:t.kw}).then(function(i){o.hide(),i.code==s.request.SUCCESS&&i.status==s.response.SUCCESS?e.category_list=i.Result.HangyeInsiderClassify02List:r.autoHide(i.message)})}]),angular.module("Pingce").controller("searchArticleController",["$scope","$sce","$location","$routeParams","userServices","errorServices","toastServices","localStorageService","config",function(e,i,t,n,r,o,a,s,u){e.category_list=[],a.show(),r.query_pingce_category_list().then(function(i){a.hide(),i.code==u.request.SUCCESS&&i.status==u.response.SUCCESS?e.category_list=i.Result.JiajuTestClassifyList:o.autoHide(i.message)}),e.search_by_category=function(i){i.check=!i.check,e.reload()},e.query_category_type=function(i){var t=e.category_list.filter(function(e){return e.classify_type==i&&e.check});return t.length},e.reset_type=function(i){e.category_list.map(function(e){e.classify_type==i&&(e.check=!1)}),e.reload()},e.size=[7,7,7],e.more_type=function(i){return 1e3==e.size[i-1]?(e.size[i-1]=7,void 0):(e.size[i-1]=1e3,void 0)},e.trust_url=function(e){return i.trustAsResourceUrl(e)},e.go=function(e){t.path("article").search("id",e.jiaju_test_id)},e.articles=[],e.page={pn:1,page_size:10,message:"点击加载更多",kw:n.kw},e.loadMore=function(){e.no_more||(a.show(),e.page.message="正在加载...",r.query_pingce_article_list(e.page).then(function(i){a.hide(),e.page.message="点击加载更多",i.code==u.request.SUCCESS&&i.status==u.response.SUCCESS?(e.articles=e.articles.concat(i.Result.JiajuTestList.list),e.no_more=e.articles.length==i.Result.JiajuTestList.totalRow?!0:!1):o.autoHide("服务器错误"),e.no_more&&(e.page.message="已经加载完"),e.page.pn++}))},e.loadMore(),e.reload=function(){var i=e.category_list.filter(function(e){return e.check});e.articles=[],e.page={pn:1,page_size:10,message:"点击加载更多",fengge_classify_ids:i.filter(function(e){return 1==e.classify_type}).map(function(e){return e.jiaju_test_classify_id}).join("#"),caizhi_classify_ids:i.filter(function(e){return 2==e.classify_type}).map(function(e){return e.jiaju_test_classify_id}).join("#"),kongjian_classify_ids:i.filter(function(e){return 3==e.classify_type}).map(function(e){return e.jiaju_test_classify_id}).join("#"),kw:n.kw},e.no_more=!1,e.loadMore()}}]),angular.module("Pingce").controller("queryPriceController",["$scope","$timeout","$location","userServices","errorServices","toastServices","localStorageService","config",function(e,i,t,n,r,o,a,s){e.input={},o.show(),n.query_brand_list().then(function(i){o.hide(),i.code==s.request.SUCCESS&&i.status==s.response.SUCCESS?(e.brand_list=i.Result.FindJiajuBrandList,e.input.brand=e.brand_list[0]):r.autoHide(i.message)}),e.query_serial_list=function(){n.query_serial_list({find_jiaju_brand_id:e.input.brand.find_jiaju_brand_id}).then(function(i){i.code==s.request.SUCCESS&&i.status==s.response.SUCCESS?(e.serial_list=i.Result.FindJiajuBrandSeriesList,e.input.serial=e.serial_list[0]):r.autoHide(i.message)})},e.query_taofang_list=function(){n.query_taofang_list({find_jiaju_brand_series_id:e.input.serial.find_jiaju_brand_series_id}).then(function(i){i.code==s.request.SUCCESS&&i.status==s.response.SUCCESS?(e.taofang_list=i.Result.FSeriesRoomsList,e.input.taofang=e.taofang_list[0]):r.autoHide(i.message)})},e.query_single_list=function(){n.query_single_list({find_jiaju_brand_series_rooms_id:e.input.taofang.find_jiaju_brand_series_rooms_id}).then(function(i){i.code==s.request.SUCCESS&&i.status==s.response.SUCCESS?(e.single_list=i.Result.FBlankSinglesList,e.input.single=e.single_list[0]):r.autoHide(i.message)})},e.$watch("input.brand",function(i){i&&e.query_serial_list()},!0),e.$watch("input.serial",function(i){i&&e.query_taofang_list()},!0),e.$watch("input.taofang",function(i){i&&e.query_single_list()},!0),e.provinces=["北京市","上海市","天津市","重庆市","河北省","山西省","内蒙古自治区","辽宁省","吉林省","黑龙江省","江苏省","浙江省","安徽省","福建省","江西省","山东省","河南省","湖北省","湖南省","广东省","广西壮族自治区","海南省","四川省","贵州省","云南省","西藏自治区","陕西省","甘肃省","青海省","宁夏回族自治区","新疆维吾尔自治区"],e.input.province=e.provinces[0],e.query_distributors=function(){n.query_distributors({pn:1,page_size:1e3,province:e.input.province,city:e.input.city,message:"点击加载更多"}).then(function(i){i.code==s.request.SUCCESS&&i.status==s.response.SUCCESS?(e.distributors=i.Result.DealerList.list,e.input.distributor=e.distributors[0]):r.autoHide("服务器错误")})},e.query_cities=function(){n.query_cities().then(function(i){e.cities=i[e.input.province],e.input.city=e.cities[0]})},e.$watch("input.province",function(i){i&&e.query_cities()}),e.$watch("input.city",function(i){i&&e.query_distributors()}),e.ajaxForm=function(){o.show(),n.ask_price({name:e.input.name,telephone:e.input.telephone,find_jiaju_brand_id:e.input.brand.find_jiaju_brand_id,find_jiaju_brand_series_id:e.input.serial.find_jiaju_brand_series_id,find_jiaju_brand_series_rooms_id:e.input.taofang.find_jiaju_brand_series_rooms_id,find_jiaju_brand_series_rooms_blank_single_id:e.input.single.find_jiaju_brand_series_rooms_blank_single_id,province:e.input.province,city:e.input.city,dealer_id:e.input.distributor&&e.input.distributor.dealer_id||"",building_area:e.input.building_area,building_house:e.input.building_house,price:e.input.price}).then(function(e){o.hide(),e.code==s.request.SUCCESS&&e.status==s.response.SUCCESS?(r.autoHide(e.message),i(function(){t.path("index").replace()},2e3)):r.autoHide(e.message)})}}]),angular.module("Pingce").controller("productController",["$scope","$rootScope","$routeParams","userServices","errorServices","toastServices","localStorageService","config",function(e,i,t,n,r,o,a,s){t.id||i.back(),e.product_id=t.id,a.set("product_id",t.id),o.show(),n.query_jiaju_product_by_id({find_jiaju_brand_series_rooms_blank_single_id:t.id}).then(function(i){o.hide(),i.code==s.request.SUCCESS&&i.status==s.response.SUCCESS?e.product=i.Result.FSeriesRoomsBlankSingleDetail:r.autoHide(i.message)});var u=a.get("product_compare_list")||[];e.add_to_compare=function(){var e={brand_id:a.get("brand_id"),serial_id:a.get("serial_id"),taofang_id:a.get("taofang_id"),product_id:a.get("product_id")},i=!0;angular.forEach(u,function(t){JSON.stringify(t)==JSON.stringify(e)&&(i=!1)}),i&&u.push(e),a.set("product_compare_list",u),r.autoHide("已经加入对比，请点击页面右侧的产品对比查看")},e.preview=function(){e.auto_height=!e.auto_height},e.query_charater_length=function(e){return e?e.length:void 0}}]),angular.module("Pingce").controller("pingceController",["$scope","$sce","$location","$routeParams","userServices","errorServices","toastServices","localStorageService","config",function(e,i,t,n,r,o,a,s,u){e.category_list=[],a.show(),r.query_pingce_category_list().then(function(i){a.hide(),i.code==u.request.SUCCESS&&i.status==u.response.SUCCESS?e.category_list=i.Result.JiajuTestClassifyList:o.autoHide(i.message)}),e.search_by_category=function(i){i.check=!i.check,e.reload()},e.query_category_type=function(i){var t=e.category_list.filter(function(e){return e.classify_type==i&&e.check});return t.length},e.reset_type=function(i){e.category_list.map(function(e){e.classify_type==i&&(e.check=!1)}),e.reload()},e.size=[7,7,7],e.more_type=function(i){return 1e3==e.size[i-1]?(e.size[i-1]=7,void 0):(e.size[i-1]=1e3,void 0)},e.trust_url=function(e){return i.trustAsResourceUrl(e)},e.go=function(e){t.path("article").search("id",e.jiaju_test_id)},e.articles=[],e.page={pn:1,page_size:10,message:"点击加载更多",kw:n.kw},e.loadMore=function(){e.no_more||(a.show(),e.page.message="正在加载...",r.query_pingce_article_list(e.page).then(function(i){a.hide(),e.page.message="点击加载更多",i.code==u.request.SUCCESS&&i.status==u.response.SUCCESS?(e.articles=e.articles.concat(i.Result.JiajuTestList.list),e.no_more=e.articles.length==i.Result.JiajuTestList.totalRow?!0:!1):o.autoHide("服务器错误"),e.no_more&&(e.page.message="已经加载完"),e.page.pn++}))},e.loadMore(),e.reload=function(){var i=e.category_list.filter(function(e){return e.check});e.articles=[],e.page={pn:1,page_size:10,message:"点击加载更多",fengge_classify_ids:i.filter(function(e){return 1==e.classify_type}).map(function(e){return e.jiaju_test_classify_id}).join("#"),caizhi_classify_ids:i.filter(function(e){return 2==e.classify_type}).map(function(e){return e.jiaju_test_classify_id}).join("#"),kongjian_classify_ids:i.filter(function(e){return 3==e.classify_type}).map(function(e){return e.jiaju_test_classify_id}).join("#"),kw:n.kw},e.no_more=!1,e.loadMore()}}]),angular.module("Pingce").controller("neimuController",["$scope","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("Pingce").controller("modifyPasswordController",["$scope","userServices","errorServices","toastServices","localStorageService","config",function(e,i,t,n,r,o){i.query_basicinfo().then(function(i){e.user=i.Result.UserInfo}),e.input={},e.ajaxForm=function(){return e.input.password_1!=e.input.password_2?(t.autoHide("两次密码不一致"),void 0):(n.show(),i.update_password({old_password:e.input.password,new_password:e.input.password_1}).then(function(i){n.hide(),i.code==o.request.SUCCESS&&i.status==o.response.SUCCESS?(e.input={},t.autoHide(i.message)):(e.input={},t.autoHide(i.message))}),void 0)},e.progress=function(e){return Math.floor(100*e)},e.$on("uploaded",function(){e.user.images_01="",i.query_basicinfo().then(function(i){e.user=i.Result.UserInfo})})}]),angular.module("Pingce").controller("meController",["$scope","userServices","errorServices","toastServices","localStorageService","config",function(e,i,t,n,r,o){i.query_basicinfo().then(function(i){e.user=i.Result.UserInfo}),e.comments=[],e.page={pn:1,page_size:10,message:"点击加载更多"},e.loadMore=function(){e.no_more||(n.show(),e.page.message="正在加载...",i.query_my_comment(e.page).then(function(i){n.hide(),e.page.message="点击加载更多",i.code==o.request.SUCCESS&&i.status==o.response.SUCCESS?(e.comments=e.comments.concat(i.Result.MyCommentList.list),e.no_more=e.comments.length==i.Result.MyCommentList.totalRow?!0:!1):t.autoHide("服务器错误"),e.no_more&&(e.page.message="没有了"),e.page.pn++}))},e.loadMore(),e.buy_aim=["","新房装修","旧房升级","重装新房","小孩出生","其他"],e.parse_aim=function(i){return e.buy_aim[i]},e.progress=function(e){return Math.floor(100*e)},e.$on("uploaded",function(){e.user.images_01="",i.query_basicinfo().then(function(i){e.user=i.Result.UserInfo})})}]),angular.module("Pingce").controller("uploadAvatarController",["$scope","errorServices","toastServices","localStorageService","config",function(e,i,t,n,r){var o,a,s=!1;e.$on("flow::filesSubmitted",function(e,i){0!=i.files.length&&(s||(i.files[0].name.replace(/.png|.jpg|.jpeg|.gif|.PNG|.JPG|.JPEG|.GIF/g,function(e){return a=e,e}),o=Math.round(1e8*Math.random()),o+=(new Date).getTime()+a,i.opts.target=r.url+"/app/UserCenter/UpdateAvatar",i.opts.testChunks=!1,i.opts.fileParameterName="images_01",i.opts.query={invoke:"h5",token:n.get("token")},i.upload()))}),e.$on("flow::fileAdded",function(e,n,r){return{png:1,gif:1,jpg:1,jpeg:1}[r.getExtension()]?parseFloat(r.size)/1e3>3e3?(s=!0,t.hide(),i.autoHide("Suggested size: 520*296, below 3M"),e.preventDefault(),void 0):(s=!1,void 0):(t.hide(),i.autoHide("Picture is required"),e.preventDefault(),void 0)}),e.$on("flow::fileSuccess",function(){e.$emit("uploaded")})}]),angular.module("Pingce").controller("kongjianController",["$scope","$rootScope","$routeParams","userServices","errorServices","toastServices","localStorageService","config",function(e,i,t,n,r,o,a,s){t.id||i.back(),a.set("kongjian_id",t.id),o.show(),n.query_jiaju_kongjian_by_id({find_jiaju_brand_series_rooms_blank_id:t.id}).then(function(i){o.hide(),i.code==s.request.SUCCESS&&i.status==s.response.SUCCESS?e.kongjian=i.Result.FindJiajuBrandSeriesRoomsBlankSingleList:r.autoHide(i.message)})}]),angular.module("Pingce").controller("jiajuController",["$scope","$routeParams","$location","$anchorScroll","userServices","errorServices","toastServices","localStorageService","config",function(e,i,t,n,r,o,a,s,u){e.category_list=[],a.show(),r.query_jiaju_category_list().then(function(i){a.hide(),i.code==u.request.SUCCESS&&i.status==u.response.SUCCESS?e.category_list=i.Result.FindJiajuClassifyList:o.autoHide(i.message)}),e.search_by_category=function(i){i.check=!i.check,e.query_jiaju_list()},e.query_category_type=function(i){var t=e.category_list.filter(function(e){return e.classify_type==i&&e.check});return t.length},e.reset_type=function(i){e.category_list.map(function(e){e.classify_type==i&&(e.check=!1)})},e.size=[7,7,7,7],e.more_type=function(i){return 1e3==e.size[i-1]?(e.size[i-1]=7,void 0):(e.size[i-1]=1e3,void 0)},e.query_jiaju_list=function(){e.jiaju_list={};var i=e.category_list.filter(function(e){return e.check});a.show(),r.query_jiaju_list({fengge_classify_ids:i.filter(function(e){return 1==e.classify_type}).map(function(e){return e.find_jiaju_classify_id}).join("#"),caizhi_classify_ids:i.filter(function(e){return 2==e.classify_type}).map(function(e){return e.find_jiaju_classify_id}).join("#"),kongjian_classify_ids:i.filter(function(e){return 3==e.classify_type}).map(function(e){return e.find_jiaju_classify_id}).join("#"),feilei_classify_ids:i.filter(function(e){return 4==e.classify_type}).map(function(e){return e.find_jiaju_classify_id}).join("#")}).then(function(i){if(a.hide(),i.code==u.request.SUCCESS&&i.status==u.response.SUCCESS){var t=i.FindJiajuBrandList;t.map(function(i){Array.isArray(e.jiaju_list[i.find_jiaju_index])||(e.jiaju_list[i.find_jiaju_index]=new Array),e.jiaju_list[i.find_jiaju_index].push(i)})}else o.autoHide(i.message)})},e.query_jiaju_list(),e.jump_index=function(e){$("html, body").animate({scrollTop:$("#"+e).offset().top},500)}}]),angular.module("Pingce").controller("indexController",["$scope","userServices","errorServices","toastServices","localStorageService","config",function(e,i,t,n,r,o){n.show(),i.query_banner({location:10,banner_type:1}).then(function(i){n.hide(),i.code==o.request.SUCCESS&&i.status==o.response.SUCCESS?e.banners=i.Result.IndexBannerList:t.autoHide(i.message)}),n.show(),i.query_hot().then(function(i){n.hide(),i.code==o.request.SUCCESS&&i.status==o.response.SUCCESS?(e.hot_articles=i.Result.JiajuTestHotList,e.focus_articles=i.Result.JiajuTestZhongdianList):t.autoHide(i.message)})}]),angular.module("Pingce").controller("imageGroupController",["$scope","$rootScope","$routeParams","userServices","errorServices","toastServices","localStorageService","config",function(e,i,t,n,r,o,a,s){t.id&&t.type||i.back(),e.query_image_group_one_by_id=function(){o.show(),n.query_image_group_one_by_id({hangye_insider_images_id:t.id}).then(function(i){o.hide(),i.code==s.request.SUCCESS&&i.status==s.response.SUCCESS?e.image_group=i:r.autoHide(i.message)})},e.query_image_group_two_by_id=function(){o.show(),n.query_image_group_two_by_id({find_jiaju_brand_series_rooms_blank_single_detail_images_id:t.id}).then(function(i){o.hide(),i.code==s.request.SUCCESS&&i.status==s.response.SUCCESS?e.image_group=i:r.autoHide(i.message)})},e.type=t.type,1==e.type?e.query_image_group_one_by_id():e.query_image_group_two_by_id()}]),angular.module("Pingce").controller("hfController",["$scope","$rootScope","userServices","$location","$routeParams","errorServices","toastServices","localStorageService","config",function(e,i,t,n,r,o,a,s,u){var c={"/index":1,"/pingce":2,"/article":3,"/neimu":4,"/category2":5,"/category3":6,"/category_info":7,"/image_group":8,"/jiaju":9,"/brand":10,"/serial":11,"/taofang":12,"/kongjian":13,"/product":14,"/vs_2":15,"/vs_3":16,"/vs_4":17,"/vs_1":18,"/comment":19,"/create_comment":20,"/query_price":21,"/to_be_distributor":22,"/distributors":23,"/distributor":24,"/supplier":25,"/contact":26,"/feedback":27,"/search_category":28,"/search_article":29,"/image_group?type=2":30,"/signin":31,"/signup":32,"/forget":33,"/me":34},l=c[n.path()];8==l&&r.type&&(l=30),e.staticImageUrl=i.staticImageUrl,t.query_banner({location:l,banner_type:2}).then(function(i){a.hide(),i.code==u.request.SUCCESS&&i.status==u.response.SUCCESS?e.ads=i.Result.IndexBannerList:o.autoHide(i.message)}),e.input={},e.input.category=r.type,n.path().indexOf("search_article")>0&&(e.input.category="article"),e.input.kw=r.kw,e.ajaxForm=function(){return e.input.category?"article"==e.input.category?(n.path("search_article").search({kw:e.input.kw,type:"article"}),void 0):"neimu"==e.input.category?(n.path("search_category").search({kw:e.input.kw,type:"neimu"}),void 0):"jiaju"==e.input.category?(n.path("search_jiaju").search({kw:e.input.kw,type:"jiaju"}),void 0):void 0:(o.autoHide("请先选择分类，再进行搜索"),void 0)}}]),angular.module("Pingce").controller("forgetController",["$scope","$location","$timeout","userServices","errorServices","toastServices","localStorageService","config",function(e,i,t,n,r,o,a,s){e.input={},e.countdown={message:"获取验证码"},e.countdown.callback=function(){o.show(),n.get_smscode_2({telephone:e.input.telephone}).then(function(i){o.hide(),i.code==s.request.SUCCESS&&i.status==s.response.SUCCESS?r.autoHide(i.message):(e.countdown.reset=!0,r.autoHide(i.message))})},e.ajaxForm=function(){o.show(),n.forget({tel_code:e.input.smscode,telephone:e.input.telephone,password:e.input.password}).then(function(e){o.hide(),e.code==s.request.SUCCESS&&e.status==s.response.SUCCESS?(r.autoHide(e.message),t(function(){i.path("signin").replace()},1e3)):r.autoHide(e.message)})}}]),angular.module("Pingce").controller("feedbackController",["$scope","userServices","errorServices","toastServices","localStorageService","config",function(e,i,t,n,r,o){e.input={},e.ajaxForm=function(){n.show(),i.feedback({name:e.input.name,contact:e.input.contact,content:e.input.content}).then(function(i){n.hide(),i.code==o.request.SUCCESS&&i.status==o.response.SUCCESS?(t.autoHide(i.message),e.input={}):t.autoHide(i.message)})}}]),angular.module("Pingce").controller("distributorsController",["$scope","userServices","errorServices","toastServices","localStorageService","config",function(e,i,t,n,r,o){e.input={},e.provinces=["北京市","上海市","天津市","重庆市","河北省","山西省","内蒙古自治区","辽宁省","吉林省","黑龙江省","江苏省","浙江省","安徽省","福建省","江西省","山东省","河南省","湖北省","湖南省","广东省","广西壮族自治区","海南省","四川省","贵州省","云南省","西藏自治区","陕西省","甘肃省","青海省","宁夏回族自治区","新疆维吾尔自治区"],e.input.province="全部",e.change_province=function(t){e.input.province=t,e.input.city="全部",i.query_cities().then(function(i){e.cities=i[t]}),e.query_distributors()},e.change_city=function(i){e.input.city=i,e.query_distributors()},e.distributors=[],e.page={pn:1,page_size:10,province:"",city:"",message:"点击加载更多",find_jiaju_brand_id:r.get("brand_id"),find_jiaju_brand_series_id:r.get("serial_id")},e.loadMore=function(){e.no_more||(n.show(),e.page.message="正在加载...",i.query_distributors(e.page).then(function(i){n.hide(),e.page.message="点击加载更多",i.code==o.request.SUCCESS&&i.status==o.response.SUCCESS?(e.distributors=e.distributors.concat(i.Result.DealerList.list),e.no_more=e.distributors.length==i.Result.DealerList.totalRow?!0:!1):t.autoHide("服务器错误"),e.no_more&&(e.page.message="没有了"),e.page.pn++}))},e.loadMore(),e.query_distributors=function(){e.page={pn:1,page_size:10,province:"全部"==e.input.province?"":e.input.province,city:"全部"==e.input.city?"":e.input.city,message:"点击加载更多"},e.no_more=!1,e.distributors=[],e.loadMore()}}]),angular.module("Pingce").controller("distributorController",["$scope","$rootScope","$routeParams","$sce","userServices","errorServices","toastServices","localStorageService","config",function(e,i,t,n,r,o,a,s,u){t.id||i.back(),a.show(),r.query_distributor_by_id({dealer_id:t.id}).then(function(i){a.hide(),i.code==u.request.SUCCESS&&i.status==u.response.SUCCESS?e.distributor=i.Result.Dealer:o.autoHide(i.message)}),e.trust_html=function(e){return n.trustAsHtml(e)}}]),angular.module("Pingce").controller("createSingleCommentController",["$scope","$timeout","$routeParams","$location","userServices","errorServices","toastServices","localStorageService","config",function(e,i,t,n,r,o,a,s,u){e.input={},a.show(),r.query_brand_list().then(function(i){a.hide(),i.code==u.request.SUCCESS&&i.status==u.response.SUCCESS?(e.brand_list=i.Result.FindJiajuBrandList,e.input.brand=e.brand_list[0],angular.forEach(e.brand_list,function(i){i.find_jiaju_brand_id==t.brand_id&&(e.input.brand=i)})):o.autoHide(i.message)}),e.query_serial_list=function(){r.query_serial_list({find_jiaju_brand_id:e.input.brand.find_jiaju_brand_id}).then(function(i){i.code==u.request.SUCCESS&&i.status==u.response.SUCCESS?(e.serial_list=i.Result.FindJiajuBrandSeriesList,e.input.serial=e.serial_list[0],angular.forEach(e.serial_list,function(i){i.find_jiaju_brand_series_id==t.serial_id&&(e.input.serial=i)})):o.autoHide(i.message)})},e.query_taofang_list=function(){r.query_taofang_list({find_jiaju_brand_series_id:e.input.serial.find_jiaju_brand_series_id}).then(function(i){i.code==u.request.SUCCESS&&i.status==u.response.SUCCESS?(e.taofang_list=i.Result.FSeriesRoomsList,e.input.taofang=e.taofang_list[0],angular.forEach(e.taofang_list,function(i){i.find_jiaju_brand_series_rooms_blank_id==t.taofang_id&&(e.input.taofang=i)})):o.autoHide(i.message)})},e.query_single_list=function(){r.query_single_list({find_jiaju_brand_series_rooms_id:e.input.taofang.find_jiaju_brand_series_rooms_id}).then(function(i){i.code==u.request.SUCCESS&&i.status==u.response.SUCCESS?(e.single_list=i.Result.FBlankSinglesList,e.input.single=e.single_list[0],angular.forEach(e.single_list,function(i){i.find_jiaju_brand_series_rooms_blank_single_id==t.single_id&&(e.input.single=i)})):o.autoHide(i.message)})},e.$watch("input.brand",function(i){i&&e.query_serial_list()},!0),e.$watch("input.serial",function(i){i&&e.query_taofang_list()},!0),e.$watch("input.taofang",function(i){i&&e.query_single_list()},!0),e.provinces=["北京市","上海市","天津市","重庆市","河北省","山西省","内蒙古自治区","辽宁省","吉林省","黑龙江省","江苏省","浙江省","安徽省","福建省","江西省","山东省","河南省","湖北省","湖南省","广东省","广西壮族自治区","海南省","四川省","贵州省","云南省","西藏自治区","陕西省","甘肃省","青海省","宁夏回族自治区","新疆维吾尔自治区"],e.input.province=e.provinces[0],e.query_distributors=function(){r.query_distributors({pn:1,page_size:1e3,province:e.input.province,city:e.input.city,message:"点击加载更多"}).then(function(i){i.code==u.request.SUCCESS&&i.status==u.response.SUCCESS?(e.distributors=i.Result.DealerList.list,e.input.distributor=e.distributors[0]):o.autoHide("服务器错误")})},e.query_cities=function(){r.query_cities().then(function(i){e.cities=i[e.input.province],e.input.city=e.cities[0]})},e.$watch("input.province",function(i){i&&e.query_cities()}),e.$watch("input.city",function(i){i&&e.query_distributors()});for(var c=[],l=(new Date).getFullYear();l>2e3;)c.push(l),l--;e.years=c,e.input.year=e.years[0],e.months=["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],e.input.month=e.months[0],e.ajaxForm=function(){a.show(),r.create_comment({find_jiaju_brand_id:e.input.brand.find_jiaju_brand_id,find_jiaju_brand_series_id:e.input.serial.find_jiaju_brand_series_id,find_jiaju_brand_series_rooms_id:e.input.taofang.find_jiaju_brand_series_rooms_id,find_jiaju_brand_series_rooms_blank_single_id:e.input.single.find_jiaju_brand_series_rooms_blank_single_id,province:e.input.province,city:e.input.city,dealer_id:e.input.distributor&&e.input.distributor.dealer_id||"",price:e.input.price,year:e.input.year,month:e.input.month,caizhi_score:e.input.caizhi_score||"",gongneng_score:e.input.gongneng_score||"",waiguan_score:e.input.waiguan_score||"",gongyi_score:e.input.gongyi_score||"",tuzhuang_score:e.input.tuzhuang_score||"",huanbao_score:e.input.huanbao_score||"",xingjiabi_score:e.input.xingjiabi_score||"",manyidu_score:e.input.manyidu_score||"",buy_aim:e.input.buy_aim,use_ganshou:e.input.use_ganshou,use_manyi:e.input.use_manyi,use_not_manyi:e.input.use_not_manyi,use_xilie_manyi:e.input.use_xilie_manyi,use_xilie_not_manyi:e.input.use_xilie_not_manyi,use_caizhi:e.input.use_caizhi,use_gongneng:e.input.use_gongneng,use_waiguan:e.input.use_waiguan,use_gongyi:e.input.use_gongyi,use_tuzhuang:e.input.use_tuzhuang,use_huanbao:e.input.use_huanbao,use_xingjiabi:e.input.iuse_xingjiabid,use_qita:e.input.use_qita,use_ben_xilie:e.input.use_ben_xilie}).then(function(e){a.hide(),e.code==u.request.SUCCESS&&e.status==u.response.SUCCESS?(o.autoHide(e.message),i(function(){n.path("index").replace()},2e3)):o.autoHide(e.message)})}}]),angular.module("Pingce").controller("createSerialCommentController",["$scope","$routeParams","$timeout","$location","userServices","errorServices","toastServices","localStorageService","config",function(e,i,t,n,r,o,a,s,u){e.input={},a.show(),r.query_brand_list().then(function(t){a.hide(),t.code==u.request.SUCCESS&&t.status==u.response.SUCCESS?(e.brand_list=t.Result.FindJiajuBrandList,e.input.brand=e.brand_list[0],angular.forEach(e.brand_list,function(t){t.find_jiaju_brand_id==i.brand_id&&(e.input.brand=t)})):o.autoHide(t.message)}),e.query_serial_list=function(){r.query_serial_list({find_jiaju_brand_id:e.input.brand.find_jiaju_brand_id}).then(function(t){t.code==u.request.SUCCESS&&t.status==u.response.SUCCESS?(e.serial_list=t.Result.FindJiajuBrandSeriesList,e.input.serial=e.serial_list[0],angular.forEach(e.serial_list,function(t){t.find_jiaju_brand_series_id==i.serial_id&&(e.input.serial=t)})):o.autoHide(t.message)})},e.$watch("input.brand",function(i){i&&e.query_serial_list()},!0),e.provinces=["北京市","上海市","天津市","重庆市","河北省","山西省","内蒙古自治区","辽宁省","吉林省","黑龙江省","江苏省","浙江省","安徽省","福建省","江西省","山东省","河南省","湖北省","湖南省","广东省","广西壮族自治区","海南省","四川省","贵州省","云南省","西藏自治区","陕西省","甘肃省","青海省","宁夏回族自治区","新疆维吾尔自治区"],e.input.province=e.provinces[0],e.query_distributors=function(){r.query_distributors({pn:1,page_size:1e3,province:e.input.province,city:e.input.city,message:"点击加载更多"}).then(function(i){i.code==u.request.SUCCESS&&i.status==u.response.SUCCESS?(e.distributors=i.Result.DealerList.list,e.input.distributor=e.distributors[0]):o.autoHide("服务器错误")})},e.query_cities=function(){r.query_cities().then(function(i){e.cities=i[e.input.province],e.input.city=e.cities[0]})},e.$watch("input.province",function(i){i&&e.query_cities()}),e.$watch("input.city",function(i){i&&e.query_distributors()});for(var c=[],l=(new Date).getFullYear();l>2e3;)c.push(l),l--;e.years=c,e.input.year=e.years[0],e.months=["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],e.input.month=e.months[0],e.ajaxForm=function(){a.show(),r.create_comment({find_jiaju_brand_id:e.input.brand.find_jiaju_brand_id,find_jiaju_brand_series_id:e.input.serial.find_jiaju_brand_series_id,province:e.input.province,city:e.input.city,dealer_id:e.input.distributor&&e.input.distributor.dealer_id||"",price:e.input.price,year:e.input.year,month:e.input.month,caizhi_score:e.input.caizhi_score||"",gongneng_score:e.input.gongneng_score||"",waiguan_score:e.input.waiguan_score||"",gongyi_score:e.input.gongyi_score||"",tuzhuang_score:e.input.tuzhuang_score||"",huanbao_score:e.input.huanbao_score||"",xingjiabi_score:e.input.xingjiabi_score||"",manyidu_score:e.input.manyidu_score||"",buy_aim:e.input.buy_aim,use_ganshou:e.input.use_ganshou,use_manyi:e.input.use_manyi,use_not_manyi:e.input.use_not_manyi,use_xilie_manyi:e.input.use_xilie_manyi,use_xilie_not_manyi:e.input.use_xilie_not_manyi,use_caizhi:e.input.use_caizhi,use_gongneng:e.input.use_gongneng,use_waiguan:e.input.use_waiguan,use_gongyi:e.input.use_gongyi,use_tuzhuang:e.input.use_tuzhuang,use_huanbao:e.input.use_huanbao,use_xingjiabi:e.input.iuse_xingjiabid,use_qita:e.input.use_qita,use_ben_xilie:e.input.use_ben_xilie}).then(function(e){a.hide(),e.code==u.request.SUCCESS&&e.status==u.response.SUCCESS?(o.autoHide(e.message),t(function(){n.path("index").replace()},2e3)):o.autoHide(e.message)})}}]),angular.module("Pingce").controller("createCommentController",["$scope","$timeout","$location","userServices","errorServices","toastServices","localStorageService","config",function(e,i,t,n,r,o,a,s){e.input={},o.show(),n.query_brand_list().then(function(i){o.hide(),i.code==s.request.SUCCESS&&i.status==s.response.SUCCESS?(e.brand_list=i.Result.FindJiajuBrandList,e.input.brand=e.brand_list[0]):r.autoHide(i.message)}),e.query_serial_list=function(){n.query_serial_list({find_jiaju_brand_id:e.input.brand.find_jiaju_brand_id}).then(function(i){i.code==s.request.SUCCESS&&i.status==s.response.SUCCESS?(e.serial_list=i.Result.FindJiajuBrandSeriesList,e.input.serial=e.serial_list[0]):r.autoHide(i.message)})},e.query_taofang_list=function(){n.query_taofang_list({find_jiaju_brand_series_id:e.input.serial.find_jiaju_brand_series_id}).then(function(i){i.code==s.request.SUCCESS&&i.status==s.response.SUCCESS?(e.taofang_list=i.Result.FSeriesRoomsList,e.input.taofang=e.taofang_list[0]):r.autoHide(i.message)})},e.query_single_list=function(){n.query_single_list({find_jiaju_brand_series_rooms_id:e.input.taofang.find_jiaju_brand_series_rooms_id}).then(function(i){i.code==s.request.SUCCESS&&i.status==s.response.SUCCESS?(e.single_list=i.Result.FBlankSinglesList,e.input.single=e.single_list[0]):r.autoHide(i.message)})},e.$watch("input.brand",function(i){i&&e.query_serial_list()},!0),e.$watch("input.serial",function(i){i&&e.query_taofang_list()},!0),e.$watch("input.taofang",function(i){i&&e.query_single_list()},!0),e.provinces=["北京市","上海市","天津市","重庆市","河北省","山西省","内蒙古自治区","辽宁省","吉林省","黑龙江省","江苏省","浙江省","安徽省","福建省","江西省","山东省","河南省","湖北省","湖南省","广东省","广西壮族自治区","海南省","四川省","贵州省","云南省","西藏自治区","陕西省","甘肃省","青海省","宁夏回族自治区","新疆维吾尔自治区"],e.input.province=e.provinces[0],e.query_distributors=function(){n.query_distributors({pn:1,page_size:1e3,province:e.input.province,city:e.input.city,message:"点击加载更多"}).then(function(i){i.code==s.request.SUCCESS&&i.status==s.response.SUCCESS?(e.distributors=i.Result.DealerList.list,e.input.distributor=e.distributors[0]):r.autoHide("服务器错误")})},e.query_cities=function(){n.query_cities().then(function(i){e.cities=i[e.input.province],e.input.city=e.cities[0]})},e.$watch("input.province",function(i){i&&e.query_cities()}),e.$watch("input.city",function(i){i&&e.query_distributors()});for(var u=[],c=(new Date).getFullYear();c>2e3;)u.push(c),c--;e.years=u,e.input.year=e.years[0],e.months=["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],e.input.month=e.months[0],e.ajaxForm=function(){o.show(),n.create_comment({find_jiaju_brand_id:e.input.brand.find_jiaju_brand_id,find_jiaju_brand_series_id:e.input.serial.find_jiaju_brand_series_id,find_jiaju_brand_series_rooms_id:e.input.taofang.find_jiaju_brand_series_rooms_id,find_jiaju_brand_series_rooms_blank_single_id:e.input.single.find_jiaju_brand_series_rooms_blank_single_id,province:e.input.province,city:e.input.city,dealer_id:e.input.distributor&&e.input.distributor.dealer_id||"",price:e.input.price,year:e.input.year,month:e.input.month,caizhi_score:e.input.caizhi_score||"",gongneng_score:e.input.gongneng_score||"",waiguan_score:e.input.waiguan_score||"",gongyi_score:e.input.gongyi_score||"",tuzhuang_score:e.input.tuzhuang_score||"",huanbao_score:e.input.huanbao_score||"",xingjiabi_score:e.input.xingjiabi_score||"",manyidu_score:e.input.manyidu_score||"",buy_aim:e.input.buy_aim,use_ganshou:e.input.use_ganshou,use_manyi:e.input.use_manyi,use_not_manyi:e.input.use_not_manyi,use_xilie_manyi:e.input.use_xilie_manyi,use_xilie_not_manyi:e.input.use_xilie_not_manyi,use_caizhi:e.input.use_caizhi,use_gongneng:e.input.use_gongneng,use_waiguan:e.input.use_waiguan,use_gongyi:e.input.use_gongyi,use_tuzhuang:e.input.use_tuzhuang,use_huanbao:e.input.use_huanbao,use_xingjiabi:e.input.iuse_xingjiabid,use_qita:e.input.use_qita,use_ben_xilie:e.input.use_ben_xilie}).then(function(e){o.hide(),e.code==s.request.SUCCESS&&e.status==s.response.SUCCESS?(r.autoHide(e.message),i(function(){t.path("index").replace()
},2e3)):r.autoHide(e.message)})}}]),angular.module("Pingce").controller("contactController",["$scope","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("Pingce").controller("commentController",["$scope","userServices","$routeParams","errorServices","toastServices","localStorageService","config",function(e,i,t,n,r,o,a){e.comments=[],e.page={pn:1,page_size:10,message:"点击加载更多",find_jiaju_brand_series_id:t.id},e.loadMore=function(){e.no_more||(r.show(),e.page.message="正在加载...",i.query_serial_comment_by_id(e.page).then(function(i){r.hide(),e.page.message="点击加载更多",i.code==a.request.SUCCESS&&i.status==a.response.SUCCESS?(e.comments=e.comments.concat(i.Result.CommentList.list),e.serial=i.Result.FindJiajuBrandSeriesDetail,e.no_more=e.comments.length==i.Result.CommentList.totalRow?!0:!1):n.autoHide("服务器错误"),e.no_more&&(e.page.message="没有了"),e.page.pn++}))},e.loadMore(),e.buy_aim=["","新房装修","旧房升级","重装新房","小孩出生","其他"],e.parse_aim=function(i){return e.buy_aim[i]}}]),angular.module("Pingce").controller("categoryInfoController",["$scope","$rootScope","$routeParams","userServices","errorServices","toastServices","localStorageService","config",function(e,i,t,n,r,o,a,s){t.id||i.back(),o.show(),n.query_hangye_detail({hangye_insider_classify03_id:t.id}).then(function(i){o.hide(),i.code==s.request.SUCCESS&&i.status==s.response.SUCCESS?(e.category_info=i.Result.HangyeInsider,e.supplier_list=i.Result.HangyeInsiderSupplierList):r.autoHide(i.message)}),e.preview=function(){e.auto_height=!e.auto_height},e.query_charater_length=function(e){return e?e.length:void 0}}]),angular.module("Pingce").controller("category3Controller",["$scope","$rootScope","$routeParams","userServices","errorServices","toastServices","localStorageService","config",function(e,i,t,n,r,o,a,s){t.id||i.back(),o.show(),n.query_hangye_category3({hangye_insider_classify02_id:t.id}).then(function(i){o.hide(),i.code==s.request.SUCCESS&&i.status==s.response.SUCCESS?(e.category_list=i.Result.HangyeInsiderClassify03List,e.supplier_list=i.Result.HangyeInsiderClassify03SupplierList):r.autoHide(i.message)})}]),angular.module("Pingce").controller("category2Controller",["$scope","$rootScope","$routeParams","userServices","errorServices","toastServices","localStorageService","config",function(e,i,t,n,r,o,a,s){t.type||i.back(),o.show(),n.query_hangye_category2({classify_type:t.type}).then(function(i){o.hide(),i.code==s.request.SUCCESS&&i.status==s.response.SUCCESS?e.category_list=i.Result.HangyeInsiderClassify02List:r.autoHide(i.message)})}]),angular.module("Pingce").controller("brandController",["$scope","$rootScope","$routeParams","userServices","errorServices","toastServices","localStorageService","config",function(e,i,t,n,r,o,a,s){t.id||i.back(),a.set("brand_id",t.id),o.show(),n.query_jiaju_brand_by_id({find_jiaju_brand_id:t.id}).then(function(i){o.hide(),i.code==s.request.SUCCESS&&i.status==s.response.SUCCESS?e.brand=i.Result.FindJiajuBrandDetail:r.autoHide(i.message)})}]),angular.module("Pingce").controller("basicInfoController",["$scope","userServices","errorServices","toastServices","localStorageService","config",function(e,i,t,n,r,o){i.query_basicinfo().then(function(i){e.user=i.Result.UserInfo,e.input=angular.extend({},e.user)}),e.input={},e.ajaxForm=function(){n.show(),i.update_basicinfo({email:e.input.email,nickname:e.input.nickname,address:e.input.address}).then(function(e){n.hide(),e.code==o.request.SUCCESS&&e.status==o.response.SUCCESS?t.autoHide(e.message):t.autoHide(e.message)})},e.progress=function(e){return Math.floor(100*e)},e.$on("uploaded",function(){e.user.images_01="",i.query_basicinfo().then(function(i){e.user=i.Result.UserInfo})})}]),angular.module("Pingce").controller("articleController",["$scope","$sce","$rootScope","$routeParams","userServices","errorServices","toastServices","localStorageService","config",function(e,i,t,n,r,o,a,s,u){n.id||t.back(),a.show(),r.query_pingce_article({jiaju_test_id:n.id}).then(function(i){a.hide(),i.code==u.request.SUCCESS&&i.status==u.response.SUCCESS?e.article=i.Result.JiajuTest:o.autoHide(i.message)}),e.parse_html=function(e){return i.trustAsHtml(e)}}]),angular.module("Pingce").constant("config",{url:"http://orsynsystem.com:8080",imageUrl:"http://orsynsystem.com:8080/files/image?name=",request:{SUCCESS:"200",TOKEN_INVALID:"405"},response:{SUCCESS:1},common_params:{invoke:"h5"},interceptor:["index","pingce","article","neimu","category2","category3","category_info","image_group","jiaju","brand","serial","taofang","kongjian","product","vs_2","vs_3","vs_4","vs_1","single_comment","serial_comment","create_serial_comment","create_single_comment","query_price","to_be_distributor","distributors","distributor","supplier","contact","feedback","search_category","search_article","search_jiaju","signin","signup","forget","me","modify_password","setting","basic_info"]});
//# sourceMappingURL=app.min.js.map
